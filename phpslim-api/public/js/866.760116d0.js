"use strict";(globalThis["webpackChunkhomedocs"]=globalThis["webpackChunkhomedocs"]||[]).push([[866],{9866:(e,a,s)=>{s.r(a),s.d(a,{default:()=>U});s(9665);var l=s(9835),r=s(1957),t=s(6970),n=s(499),o=s(796),i=s(9302),u=s(8339),d=s(3276),c=s(1569);const m=["onSubmit"],p={class:"text-grey-9 text-h5 text-weight-bold"},g={class:"text-grey-8"},f={class:"text-grey-8"},v={class:"text-dark text-weight-bold",style:{"text-decoration":"none"}},w={__name:"SignUpPage",setup(e){const{t:a}=(0,d.QT)(),s=(0,i.Z)(),w=(0,u.tv)(),b=(0,n.iH)(!1),h=(0,n.iH)({email:{hasErrors:!1,message:null},password:{hasErrors:!1,message:null}}),y=[e=>!!e||a("Field is required")],_=(0,n.iH)(null),k=(0,n.iH)(null),x=(0,n.iH)(null),S=(0,n.iH)(null);function E(){b.value=!0,c.api.user.signUp((0,o.Z)(),_.value,x.value).then((e=>{s.notify({type:"positive",message:a("Your account has been created"),actions:[{label:a("Sign in"),color:"white",handler:()=>{w.push({name:"index"})}}]}),b.value=!1})).catch((e=>{switch(b.value=!1,e.response.status){case 400:e.response.data.invalidOrMissingParams.find((function(e){return"email"===e}))?(s.notify({type:"negative",message:a("API Error: missing email param")}),k.value.focus()):e.response.data.invalidOrMissingParams.find((function(e){return"password"===e}))?(s.notify({type:"negative",message:a("API Error: missing password param")}),S.value.focus()):s.notify({type:"negative",message:a("API Error: invalid/missing param")});break;case 409:h.value.email.hasErrors=!0,h.value.email.message=a("Email already used"),nextTick((()=>{k.value.focus()}));break;default:s.notify({type:"negative",message:a("API Error: fatal error"),caption:a("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}return(e,s)=>{const o=(0,l.up)("q-card-section"),i=(0,l.up)("q-icon"),u=(0,l.up)("q-input"),d=(0,l.up)("q-spinner-hourglass"),c=(0,l.up)("q-btn"),w=(0,l.up)("router-link"),W=(0,l.up)("q-card"),q=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(q,{class:"flex flex-center bg-grey-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{class:"q-pa-md shadow-2 my_card",bordered:""},{default:(0,l.w5)((()=>[(0,l._)("form",{onSubmit:(0,r.iM)(E,["prevent","stop"]),autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"},[(0,l.Wm)(o,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l._)("h3",null,(0,t.zw)(e.$t("Homedocs")),1),(0,l._)("div",p,(0,t.zw)(e.$t("Sign up")),1),(0,l._)("div",g,(0,t.zw)(e.$t("Sign up below to create your account")),1)])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{dense:"",outlined:"",ref_key:"emailRef",ref:k,modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=e=>_.value=e),type:"email",name:"email",label:(0,n.SU)(a)("Email"),disable:b.value,autofocus:!0,rules:y,"lazy-rules":"",error:h.value.email.hasErrors,errorMessage:h.value.email.message},{prepend:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"alternate_email"})])),_:1},8,["modelValue","label","disable","error","errorMessage"]),(0,l.Wm)(u,{dense:"",outlined:"",class:"q-mt-md",ref_key:"passwordRef",ref:S,modelValue:x.value,"onUpdate:modelValue":s[1]||(s[1]=e=>x.value=e),name:"password",type:"password",label:(0,n.SU)(a)("Password"),disable:b.value,rules:y,"lazy-rules":"",error:h.value.password.hasErrors,errorMessage:h.value.password.message},{prepend:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"key"})])),_:1},8,["modelValue","label","disable","error","errorMessage"])])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{color:"dark",size:"md",label:e.$t("Sign up"),"no-caps":"",class:"full-width",icon:"account_circle",disable:b.value||!(_.value&&x.value),loading:b.value,type:"submit"},{loading:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"on-left"}),(0,l.Uk)(" "+(0,t.zw)((0,n.SU)(a)("Loading...")),1)])),_:1},8,["label","disable","loading"])])),_:1}),(0,l.Wm)(o,{class:"text-center q-pt-none"},{default:(0,l.w5)((()=>[(0,l._)("div",f,[(0,l.Uk)((0,t.zw)((0,n.SU)(a)("Already have an account ?"))+" ",1),(0,l.Wm)(w,{to:{name:"signIn"}},{default:(0,l.w5)((()=>[(0,l._)("span",v,(0,t.zw)((0,n.SU)(a)("Click here to sign in")),1)])),_:1})])])),_:1})],40,m)])),_:1})])),_:1})}}};var b=s(9885),h=s(4458),y=s(3190),_=s(6611),k=s(2857),x=s(8879),S=s(3358),E=s(9984),W=s.n(E);const q=w,U=q;W()(w,"components",{QPage:b.Z,QCard:h.Z,QCardSection:y.Z,QInput:_.Z,QIcon:k.Z,QBtn:x.Z,QSpinnerHourglass:S.Z})}}]);