(globalThis["webpackChunkhomedocs"]=globalThis["webpackChunkhomedocs"]||[]).push([[125],{2135:(e,a,r)=>{var s={"./af.js":[1129,121],"./am.js":[4696,121],"./ar-dz.js":[5552,121],"./ar-iq.js":[644,121],"./ar-kw.js":[6388,121],"./ar-ly.js":[6417,121],"./ar-ma.js":[8560,121],"./ar-sa.js":[6746,121],"./ar-tn.js":[7468,121],"./ar.js":[7461,121],"./az.js":[1485,121],"./be.js":[1263,121],"./bg.js":[81,121],"./bi.js":[1107,121],"./bm.js":[855,121],"./bn-bd.js":[1421,121],"./bn.js":[3594,121],"./bo.js":[3849,121],"./br.js":[7422,121],"./bs.js":[6733,121],"./ca.js":[3258,121],"./cs.js":[2416,121],"./cv.js":[9587,121],"./cy.js":[178,121],"./da.js":[9553,121],"./de-at.js":[3823,121],"./de-ch.js":[2409,121],"./de.js":[157,121],"./dv.js":[3012,121],"./el.js":[6995,121],"./en-au.js":[7936,121],"./en-ca.js":[2362,121],"./en-gb.js":[3907,121],"./en-ie.js":[648,121],"./en-il.js":[9607,121],"./en-in.js":[3097,121],"./en-nz.js":[7114,121],"./en-sg.js":[716,121],"./en-tt.js":[2094,121],"./en.js":[5957,121],"./eo.js":[5238,121],"./es-do.js":[4902,121],"./es-mx.js":[5442,121],"./es-pr.js":[2197,121],"./es-us.js":[639,121],"./es.js":[3602,121],"./et.js":[5339,121],"./eu.js":[5812,121],"./fa.js":[2423,121],"./fi.js":[6479,121],"./fo.js":[8429,121],"./fr-ca.js":[499,121],"./fr-ch.js":[5604,121],"./fr.js":[1450,121],"./fy.js":[9375,121],"./ga.js":[7686,121],"./gd.js":[6169,121],"./gl.js":[9633,121],"./gom-latn.js":[951,121],"./gu.js":[7354,121],"./he.js":[7665,121],"./hi.js":[9813,121],"./hr.js":[2260,121],"./ht.js":[4498,121],"./hu.js":[2913,121],"./hy-am.js":[4872,121],"./id.js":[15,121],"./is.js":[1678,121],"./it-ch.js":[5891,121],"./it.js":[4335,121],"./ja.js":[6131,121],"./jv.js":[2026,121],"./ka.js":[4098,121],"./kk.js":[3040,121],"./km.js":[9174,121],"./kn.js":[403,121],"./ko.js":[9116,121],"./ku.js":[4126,121],"./ky.js":[778,121],"./lb.js":[1984,121],"./lo.js":[8171,121],"./lt.js":[8070,121],"./lv.js":[1836,121],"./me.js":[4028,121],"./mi.js":[4152,121],"./mk.js":[2610,121],"./ml.js":[6043,121],"./mn.js":[5005,121],"./mr.js":[2121,121],"./ms-my.js":[6361,121],"./ms.js":[9338,121],"./mt.js":[9379,121],"./my.js":[8216,121],"./nb.js":[4578,121],"./ne.js":[539,121],"./nl-be.js":[1496,121],"./nl.js":[8524,121],"./nn.js":[518,121],"./oc-lnc.js":[4018,121],"./pa-in.js":[7561,121],"./pl.js":[370,121],"./pt-br.js":[6015,121],"./pt.js":[2138,121],"./rn.js":[813,121],"./ro.js":[409,121],"./ru.js":[4575,121],"./rw.js":[97,121],"./sd.js":[3525,121],"./se.js":[5782,121],"./si.js":[3490,121],"./sk.js":[1736,121],"./sl.js":[8941,121],"./sq.js":[9098,121],"./sr-cyrl.js":[106,121],"./sr.js":[8023,121],"./ss.js":[1952,121],"./sv-fi.js":[7053,121],"./sv.js":[3315,121],"./sw.js":[3052,121],"./ta.js":[3329,121],"./te.js":[7837,121],"./tet.js":[6845,121],"./tg.js":[8875,121],"./th.js":[8106,121],"./tk.js":[1831,121],"./tl-ph.js":[6943,121],"./tlh.js":[5388,121],"./tr.js":[1048,121],"./tzl.js":[4182,121],"./tzm-latn.js":[1631,121],"./tzm.js":[6101,121],"./ug-cn.js":[2478,121],"./uk.js":[8922,121],"./ur.js":[3729,121],"./uz-latn.js":[9259,121],"./uz.js":[3561,121],"./vi.js":[7087,121],"./x-pseudo.js":[1619,121],"./yo.js":[8170,121],"./zh-cn.js":[6712,121],"./zh-hk.js":[9344,121],"./zh-tw.js":[8016,121],"./zh.js":[7188,121]};function t(e){if(!r.o(s,e))return Promise.resolve().then((()=>{var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=s[e],t=a[0];return r.e(a[1]).then((()=>r.t(t,19)))}t.keys=()=>Object.keys(s),t.id=2135,e.exports=t},2553:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>ke});var s=r(1758),t=r(8790),o=r(8734),l=r(3537),n=r(9104),i=r(3597),d=r(8051),u=r(7836),c=r(129);const m={__name:"BaseWidget",props:{title:{type:String,required:!1,default:""},caption:{type:String,required:!1,default:""},icon:{type:String,required:!0},iconToolTip:{type:String,required:!1},onHeaderIconClick:{type:Function,default:null},loading:{type:Boolean,required:!1},error:{type:Boolean,required:!1}},setup(e){const{t:a}=(0,l.s9)(),r=e,i=(0,s.EW)((()=>r.onHeaderIconClick?"cursor-pointer":"cursor-default")),d=()=>{r.onHeaderIconClick&&"function"===typeof r.onHeaderIconClick&&r.onHeaderIconClick()};return(r,l)=>{const u=(0,s.g2)("q-icon"),m=(0,s.g2)("q-item-section"),g=(0,s.g2)("q-item-label"),p=(0,s.g2)("q-item"),h=(0,s.g2)("q-separator"),j=(0,s.g2)("q-card-section"),f=(0,s.g2)("q-card");return(0,s.uX)(),(0,s.Wv)(f,{class:"full-width"},{default:(0,s.k6)((()=>[(0,s.bF)(p,{class:"theme-default-q-card-section-header"},{default:(0,s.k6)((()=>[(0,s.bF)(m,{avatar:""},{default:(0,s.k6)((()=>[e.loading?((0,s.uX)(),(0,s.Wv)(u,{key:0,name:"settings",class:"animation-spin"})):e.error?((0,s.uX)(),(0,s.Wv)(u,{key:1,name:"error",color:"red",onClick:(0,n.D$)(d,["stop"]),class:(0,t.C4)(i.value)},{default:(0,s.k6)((()=>[e.iconToolTip?((0,s.uX)(),(0,s.Wv)(c.A,{key:0},{default:(0,s.k6)((()=>[(0,s.eW)((0,t.v_)((0,o.R1)(a)(e.iconToolTip)),1)])),_:1})):(0,s.Q3)("",!0)])),_:1},8,["class"])):((0,s.uX)(),(0,s.Wv)(u,{key:2,name:e.icon,onClick:(0,n.D$)(d,["stop"]),class:(0,t.C4)(i.value)},{default:(0,s.k6)((()=>[e.iconToolTip?((0,s.uX)(),(0,s.Wv)(c.A,{key:0},{default:(0,s.k6)((()=>[(0,s.eW)((0,t.v_)((0,o.R1)(a)(e.iconToolTip)),1)])),_:1})):(0,s.Q3)("",!0)])),_:1},8,["name","class"]))])),_:1}),(0,s.bF)(m,null,{default:(0,s.k6)((()=>[(0,s.bF)(g,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,t.v_)((0,o.R1)(a)(e.title)),1)])),_:1}),(0,s.bF)(g,{caption:""},{default:(0,s.k6)((()=>[(0,s.eW)((0,t.v_)((0,o.R1)(a)(e.caption)),1)])),_:1})])),_:1})])),_:1}),(0,s.bF)(h),(0,s.bF)(j,null,{default:(0,s.k6)((()=>[(0,s.RG)(r.$slots,"content")])),_:3})])),_:3})}}};var g=r(3316),p=r(124),h=r(4189),j=r(5173),f=r(492),k=r(3796),v=r(386),b=r(8582),E=r.n(b);const y=m,A=y;E()(m,"components",{QCard:g.A,QItem:p.A,QCardSection:h.A,QItemSection:j.A,QIcon:f.A,QItemLabel:k.A,QSeparator:v.A});var w=r(4798),q=r(1112),x=r(2139);const _={__name:"UpdateProfileForm",props:{autoFocus:{type:Boolean,required:!1,default:!1}},setup(e){const{t:a}=(0,l.s9)(),{api:r}=(0,d.M)(),{bus:c}=(0,i.U)(),m=(0,u.b)(),g=e,p=(0,o.Kh)({loading:!1,loadingError:!1,errorMessage:null,apiError:null}),h=(0,o.Kh)({email:null,password:null}),j=(0,o.KR)(null),f=(0,o.KR)(null),k=(0,o.KR)(!1),v=(0,o.Kh)({email:{hasErrors:!1,message:null},password:{hasErrors:!1,message:null}}),b=()=>{v.email.hasErrors=!1,v.email.message=null,v.password.hasErrors=!1,v.password.message=null,j.value?.resetValidation(),f.value?.resetValidation()},E=()=>{p.loading=!0,p.loadingError=!1,p.errorMessage=null,p.apiError=null,h.email=null,h.password=null,r.user.getProfile().then((e=>{h.email=e.data.data.email,p.loading=!1,g.autoFocus&&(0,s.dY)((()=>{f.value?.focus()}))})).catch((e=>{if(p.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:p.apiError=e.customAPIErrorDetails,p.errorMessage="Auth session expired, requesting new...",c.emit("reAuthRequired",{emitter:"UpdateProfileForm.onGetProfile"});break;default:p.apiError=e.customAPIErrorDetails,p.errorMessage="API Error: fatal error";break}else p.errorMessage=`Uncaught exception: ${e}`,console.error(e);p.loading=!1,g.autoFocus&&(0,s.dY)((()=>{f.value?.focus()}))}))},y=()=>{b(),j.value?.validate(),f.value?.validate(),j.value?.hasError||f.value?.hasError?(0,s.dY)((()=>{j.value?.hasError?j.value?.focus():f.value?.hasError&&f.value?.focus()})):_()},_=()=>{p.loading=!0,p.loadingError=!1,p.errorMessage=null,p.apiError=null,k.value=!1,r.user.updateProfile(h.email,h.password).then((e=>{k.value=!0,h.email=e.data.data.email,h.password=null,p.loading=!1,(0,s.dY)((()=>{j.value?.focus()}))})).catch((e=>{if(p.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:p.apiError=e.customAPIErrorDetails,p.errorMessage="Auth session expired, requesting new...",c.emit("reAuthRequired",{emitter:"UpdateProfileForm.onSubmitForm"});break;case 409:v.email.hasErrors=!0,v.email.message="Email already used",p.errorMessage="Error updating profile",(0,s.dY)((()=>{j.value?.focus()}));break;default:p.apiError=e.customAPIErrorDetails,p.errorMessage="API Error: fatal error";break}else p.errorMessage=`Uncaught exception: ${e}`,console.error(e);p.loading=!1}))};return(0,s.sV)((()=>{E(),c.on("reAuthSucess",(e=>{e.to?.includes("UpdateProfileForm.onGetProfile")&&E(),e.to?.includes("UpdateProfileForm.onSubmitForm")&&_()}))})),(0,s.xo)((()=>{c.off("reAuthSucess")})),(e,r)=>{const l=(0,s.g2)("q-icon"),i=(0,s.g2)("q-input"),d=(0,s.g2)("q-spinner-hourglass"),u=(0,s.g2)("q-btn");return(0,s.uX)(),(0,s.Wv)(A,{title:"Personal information",caption:"Update your data",icon:"contact_mail"},{content:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:(0,n.D$)(y,["prevent","stop"]),autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"},[(0,s.bF)(i,{class:"q-my-md",dense:"",outlined:"",modelValue:h.email,"onUpdate:modelValue":r[0]||(r[0]=e=>h.email=e),type:"email",name:"email",label:(0,o.R1)(a)("Email"),disable:p.loading,error:v.email.hasErrors,"error-message":v.email.message?(0,o.R1)(a)(v.email.message):"",rules:(0,o.R1)(m).requiredFieldRules,"lazy-rules":"",ref_key:"emailRef",ref:j},{prepend:(0,s.k6)((()=>[(0,s.bF)(l,{name:"alternate_email"})])),_:1},8,["modelValue","label","disable","error","error-message","rules"]),(0,s.bF)(w.A,{class:"q-my-md",dense:"",outlined:"",modelValue:h.password,"onUpdate:modelValue":r[1]||(r[1]=e=>h.password=e),name:"password",label:(0,o.R1)(a)("New password"),error:v.password.hasErrors,"error-message":v.password.message?(0,o.R1)(a)(v.password.message):"",disable:p.loading,rules:(0,o.R1)(m).requiredFieldRules,"lazy-rules":"",ref_key:"passwordRef",ref:f},null,8,["modelValue","label","error","error-message","disable","rules"]),(0,s.bF)(u,{color:"primary",size:"md",label:e.$t("Update profile"),"no-caps":"",class:"full-width q-my-xs",icon:" account_circle",disable:p.loading||!h.password,loading:p.loading,type:"submit"},{loading:(0,s.k6)((()=>[(0,s.bF)(d,{class:"on-left"}),(0,s.eW)(" "+(0,t.v_)((0,o.R1)(a)("Update profile")),1)])),_:1},8,["label","disable","loading"]),k.value?((0,s.uX)(),(0,s.Wv)(x.A,{key:0,text:"Profile has been successfully updated",success:"",class:"q-mt-lg"})):p.loadingError?((0,s.uX)(),(0,s.Wv)(q.A,{key:1,text:p.errorMessage||"Error loading data","api-error":p.apiError,class:"q-mt-lg"},null,8,["text","api-error"])):(0,s.Q3)("",!0)],32)])),_:1})}}};var M=r(9270),D=r(6384),F=r(3194);const U=_,R=U;E()(_,"components",{QInput:M.A,QIcon:f.A,QBtn:D.A,QSpinnerHourglass:F.A});var S=r(1307);const P={class:"q-my-none"},I={class:"q-my-md"},W={class:"q-my-none"},C={class:"q-my-none"},L={__name:"ProfileStorageSettingsWidget",setup(e){const{t:a}=(0,l.s9)(),{alwaysOpenUploadDialog:r,showToolTips:t,dateFormat:n,dateTimeFormat:i}=(0,S.M)(),d=(0,o.KR)(n.get()),u=e=>{e&&e.length>0?n.set(e):n.remove()},c=(0,o.KR)(i.get()),m=e=>{e&&e.length>0?i.set(e):i.remove()},g=(0,o.KR)(r.get()),p=e=>{r.set(e)},h=(0,o.KR)(t.get()),j=e=>{t.set(e)};return(e,r)=>{const t=(0,s.g2)("q-input"),l=(0,s.g2)("q-toggle");return(0,s.uX)(),(0,s.Wv)(A,{title:"Profile settings",caption:"Customize how you interact with the platform.",icon:"settings"},{content:(0,s.k6)((()=>[(0,s.Lk)("p",P,[(0,s.bF)(t,{dense:"",outlined:"",clearable:"",modelValue:d.value,"onUpdate:modelValue":[r[0]||(r[0]=e=>d.value=e),u],modelModifiers:{trim:!0},label:(0,o.R1)(a)("Date format")},null,8,["modelValue","label"])]),(0,s.Lk)("p",I,[(0,s.bF)(t,{dense:"",outlined:"",clearable:"",modelValue:c.value,"onUpdate:modelValue":[r[1]||(r[1]=e=>c.value=e),m],modelModifiers:{trim:!0},label:(0,o.R1)(a)("Datetime format")},null,8,["modelValue","label"])]),(0,s.Lk)("p",W,[(0,s.bF)(l,{modelValue:g.value,"onUpdate:modelValue":[r[2]||(r[2]=e=>g.value=e),p],"checked-icon":"check",color:"green",label:(0,o.R1)(a)("Always show uploading dialog after adding files"),"unchecked-icon":"clear",class:"q-mr-md"},null,8,["modelValue","label"])]),(0,s.Lk)("p",C,[(0,s.bF)(l,{modelValue:h.value,"onUpdate:modelValue":[r[3]||(r[3]=e=>h.value=e),j],"checked-icon":"check",color:"green",label:(0,o.R1)(a)("Show tooltips"),"unchecked-icon":"clear",class:"q-mr-md"},null,8,["modelValue","label"])])])),_:1})}}};var T=r(5087);const Q=L,z=Q;E()(L,"components",{QInput:M.A,QToggle:T.A});var V=r(2732),X=(r(8812),r(2042),r(9875),r(2090),r(8441),r(8462),r(2336),r(3394)),Y=r(6246),$=r(7719),K=r(6208),B=r(1460),H=r(4503),N=r(39);const O={id:"cal-heatmap-container",class:"calContainerRef"},G={key:0,class:"q-mb-md q-gutter-sm q-py-sm"},J={__name:"ActivityHeatMap",props:{showNavigationButtons:{type:Boolean,required:!1,default:!0}},emits:["loading","loaded","error"],setup(e,{emit:a}){const r=(0,X.rd)(),{t:u}=(0,l.s9)(),{isDarkModeActive:c}=(0,K.D)(),{i18n:m}=(0,$.U)(),{api:g}=(0,d.M)(),{bus:p}=(0,i.U)(),h=a,j=(0,o.Kh)({loading:!1,loadingError:!1,errorMessage:null,apiError:null}),f=(0,o.KR)(!1),k=(0,o.KR)(!1),v=(0,s.EW)((()=>m.global.locale.value.substring(0,2))),b={itemSelector:"#cal-heatmap"};let E=new Date((new Date).setFullYear((new Date).getFullYear()-2));E.setDate(1),E.setHours(0,0,0,0);const y=(0,o.KR)({date:{locale:v.value,start:new Date((new Date).setFullYear((new Date).getFullYear()-1)),end:new Date,min:E,max:new Date},range:13,scale:{color:{scheme:"greens",type:"threshold",domain:null}},domain:{type:"month",gutter:4,label:{text:"MMM",textAlign:"start",position:"top"}},subDomain:{type:"ghDay",radius:2,width:11,height:11,gutter:4},theme:c()?"dark":"light"}),A=[[H.A,{text:function(e,a,r){return a?`${a} ${u(" change/s on date ")} ${r.format("dddd, MMMM D, YYYY")}`:`${u("No activity on date ")} ${r.format("dddd, MMMM D, YYYY")}`}}],[N.A,{width:30,textAlign:"start",text:()=>Array.from({length:7},((e,a)=>new Date(2023,0,a+1).toLocaleDateString(v.value,{weekday:"short"}))).map(((e,a)=>a%2==0?"":e)),padding:[25,0,0,0]}]];let w=new B.A(b);(0,s.wB)((()=>c()),(e=>{console.log(e),w.destroy(),w=new B.A(b),x()})),(0,s.wB)((()=>v.value),(e=>{w.destroy(),w=new B.A(b),x()})),w.on("click",((e,a,s)=>{s>0&&r.push({name:"advancedSearchByFixedUpdatedOn",params:{fixedUpdatedOn:new Date(a).toISOString().split("T")[0]}})})),w.on("minDateReached",(()=>{f.value=!0})),w.on("minDateNotReached",(()=>{f.value=!1})),w.on("maxDateReached",(()=>{k.value=!0})),w.on("maxDateNotReached",(()=>{k.value=!1}));const x=(e,a)=>{e&&(y.value.data=e),a&&(y.value.scale.color.domain=a),y.value.date.locale=v.value,y.value.theme=c()?"dark":"light",w.paint(y.value,A)},_=()=>{w.previous()},M=()=>{w.next()},D=()=>{h("loading"),j.loading=!0,j.loadingError=!1,j.errorMessage=null,j.apiError=null,g.stats.getActivityHeatMapData(Y.Ay.formatDate(E,"x")).then((e=>{const a=e.data.heatmap.map((e=>e.count));let r=[...new Set(a)];r.unshift(0),r.sort((function(e,a){return e-a})),x({source:e.data.heatmap,x:"date",y:"count",type:"json"},r),j.loading=!1,h("loaded")})).catch((e=>{if(j.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:j.apiError=e.customAPIErrorDetails,j.errorMessage="Auth session expired, requesting new...",p.emit("reAuthRequired",{emitter:"ActivityHeatMap"});break;default:j.apiError=e.customAPIErrorDetails,j.errorMessage="API Error: fatal error";break}else j.errorMessage=`Uncaught exception: ${e}`,console.error(e);j.loading=!1,h("error")}))};return(0,s.sV)((()=>{D(),p.on("reAuthSucess",(e=>{e.to?.includes("ActivityHeatMap")&&D()}))})),(0,s.xo)((()=>{p.off("reAuthSucess")})),(a,r)=>{const l=(0,s.g2)("q-btn");return(0,s.uX)(),(0,s.CE)("div",O,[r[0]||(r[0]=(0,s.Lk)("div",{id:"cal-heatmap"},null,-1)),e.showNavigationButtons?((0,s.uX)(),(0,s.CE)("div",G,[(0,s.bF)(l,{icon:"arrow_left",disabled:j.loading||f.value,size:"md",color:"primary",onClick:(0,n.D$)(_,["prevent"])},{default:(0,s.k6)((()=>[(0,s.eW)((0,t.v_)((0,o.R1)(u)("Previous")),1)])),_:1},8,["disabled"]),(0,s.bF)(l,{"icon-right":"arrow_right",disabled:j.loading||k.value,size:"md",color:"primary",onClick:(0,n.D$)(M,["prevent"])},{default:(0,s.k6)((()=>[(0,s.eW)((0,t.v_)((0,o.R1)(u)("Next")),1)])),_:1},8,["disabled"])])):(0,s.Q3)("",!0),j.loadingError?((0,s.uX)(),(0,s.Wv)(q.A,{key:1,text:j.errorMessage||"Error loading data","api-error":j.apiError},null,8,["text","api-error"])):(0,s.Q3)("",!0)])}}};var Z=r(2807);const ee=(0,Z.A)(J,[["__scopeId","data-v-322d9758"]]),ae=ee;E()(J,"components",{QBtn:D.A});const re={class:"text-center text-h6 q-my-sm"},se={class:"row"},te={__name:"SystemStatsWidget",setup(e){const{t:a}=(0,l.s9)(),{api:r}=(0,d.M)(),{bus:n}=(0,i.U)(),u=(0,o.Kh)({loading:!1,loadingError:!1}),c=(0,o.Kh)({documents:{total:0,loading:!1,loadingError:!1,errorMessage:null,apiError:null,headerLabel:"Total documents",icon:"shelves"},attachments:{total:0,loading:!1,loadingError:!1,errorMessage:null,apiError:null,headerLabel:"Total attachments",icon:"attachment"},diskUsage:{total:0,loading:!1,loadingError:!1,errorMessage:null,apiError:null,headerLabel:"Disk usage",icon:"data_usage"}}),m=()=>{u.loadingError=!1,u.loading=!0},g=()=>{u.loading=!1},p=()=>{u.loadingError=!0,u.loading=!1},h=()=>{c.documents.loading||(c.documents.loading=!0,c.documents.total=0,c.documents.loadingError=!1,c.documents.errorMessage=null,c.documents.apiError=null,r.stats.documentCount().then((e=>{c.documents.total=e.data.count,c.documents.loading=!1})).catch((e=>{if(c.documents.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:c.documents.apiError=e.customAPIErrorDetails,c.documents.errorMessage="Auth session expired, requesting new...",n.emit("reAuthRequired",{emitter:"SystemStatsWidget.TotalDocuments"});break;default:c.documents.apiError=e.customAPIErrorDetails,c.documents.errorMessage="API Error: fatal error";break}else c.documents.errorMessage=`Uncaught exception: ${e}`,console.error(e);c.documents.loading=!1})))},j=()=>{c.attachments.loading||(c.attachments.loading=!0,c.attachments.total=0,c.attachments.loadingError=!1,c.attachments.errorMessage=null,c.attachments.apiError=null,r.stats.attachmentCount().then((e=>{c.attachments.total=e.data.count,c.attachments.loading=!1})).catch((e=>{if(c.attachments.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:c.attachments.apiError=e.customAPIErrorDetails,c.attachments.errorMessage="Auth session expired, requesting new...",n.emit("reAuthRequired",{emitter:"SystemStatsWidget.TotalAttachments"});break;default:c.attachments.apiError=e.customAPIErrorDetails,c.attachments.errorMessage="API Error: fatal error";break}else c.attachments.errorMessage=`Uncaught exception: ${e}`,console.error(e);c.attachments.loading=!1})))},f=()=>{c.diskUsage.loading||(c.diskUsage.loading=!0,c.diskUsage.total=0,c.diskUsage.loadingError=!1,c.diskUsage.errorMessage=null,c.diskUsage.apiError=null,r.stats.attachmentDiskSize().then((e=>{c.diskUsage.total=V.Ay.humanStorageSize(e.data.size),c.diskUsage.loading=!1})).catch((e=>{if(c.diskUsage.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:c.diskUsage.apiError=e.customAPIErrorDetails,c.diskUsage.errorMessage="Auth session expired, requesting new...",n.emit("reAuthRequired",{emitter:"SystemStatsWidget.TotalAttachmentsDiskUsage"});break;default:c.diskUsage.apiError=e.customAPIErrorDetails,c.diskUsage.errorMessage="API Error: fatal error";break}else c.diskUsage.errorMessage=`Uncaught exception: ${e}`,console.error(e);c.diskUsage.loading=!1})))};return(0,s.sV)((()=>{h(),j(),f(),n.on("reAuthSucess",(e=>{e.to?.includes("SystemStatsWidget.TotalDocuments")&&h(),e.to?.includes("SystemStatsWidget.TotalAttachments")&&j(),e.to?.includes("SystemStatsWidget.TotalAttachmentsDiskUsage")&&f()}))})),(0,s.xo)((()=>{n.off("reAuthSucess")})),(e,r)=>{const l=(0,s.g2)("q-icon"),n=(0,s.g2)("q-separator"),i=(0,s.g2)("q-card-section"),d=(0,s.g2)("q-card");return(0,s.uX)(),(0,s.Wv)(A,{title:"Your system stats",caption:"Small resume of your platform usage",icon:"analytics"},{content:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.Lk)("h6",re,[(0,s.bF)(l,{name:u.loading?"settings":"insights",class:(0,t.C4)({"animation-spin":u.loading})},null,8,["name","class"]),(0,s.eW)(" "+(0,t.v_)((0,o.R1)(a)("Activity Heatmap")),1)]),(0,s.Lk)("div",null,[(0,s.bF)(ae,{class:"q-mx-auto","show-navigation-buttons":!0,onLoading:m,onLoaded:g,onError:p})]),(0,s.bF)(n,{class:"q-my-md"}),(0,s.Lk)("div",se,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(c,((e,r)=>((0,s.uX)(),(0,s.CE)("div",{key:r,class:"col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"},[(0,s.bF)(d,{class:"q-ma-sm"},{default:(0,s.k6)((()=>[(0,s.bF)(i,{class:"text-center text-h6 theme-default-q-card-section-header"},{default:(0,s.k6)((()=>[(0,s.bF)(l,{name:e.loading?"settings":e.error?"error":e.icon,class:(0,t.C4)({"text-red":e.error,"animation-spin":e.loading})},null,8,["name","class"]),(0,s.eW)(" "+(0,t.v_)((0,o.R1)(a)(e.headerLabel)),1)])),_:2},1024),e.loadingError?((0,s.uX)(),(0,s.Wv)(i,{key:1},{default:(0,s.k6)((()=>[(0,s.bF)(q.A,{text:e.errorMessage||"Error loading data","api-error":e.apiError},null,8,["text","api-error"])])),_:2},1024)):((0,s.uX)(),(0,s.Wv)(i,{key:0,class:"text-center text-h4"},{default:(0,s.k6)((()=>[(0,s.eW)((0,t.v_)(e.total),1)])),_:2},1024))])),_:2},1024)])))),128))])])])),_:1})}}},oe=te,le=oe;E()(te,"components",{QIcon:f.A,QSeparator:v.A,QCard:g.A,QCardSection:h.A});const ne={class:"my-profile-header-container"},ie={class:"my-profile-header-background-image-cover flex flex-center q-mx-auto"},de={class:"text-h2 text-white text-weight-bolder q-my-none"},ue={class:"text-center"},ce={class:"row q-col-gutter-sm"},me={class:"col-lg-4 col-xl-4 col-12 flex"},ge={class:"col-lg-8 col-xl-8 col-12 flex"},pe={__name:"ProfilePage",setup(e){const{t:a}=(0,l.s9)();return(e,r)=>{const l=(0,s.g2)("q-avatar"),n=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(n,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",ne,[(0,s.Lk)("div",ie,[(0,s.bF)(l,{icon:"edit",size:"48px",class:"bg-dark text-white my-profile-header-top-right-icon"}),(0,s.Lk)("h2",de,(0,t.v_)((0,o.R1)(a)("My profile")),1)]),(0,s.Lk)("div",ue,[(0,s.bF)(l,{icon:"account_circle",size:"160px",class:"bg-grey-4 q-mx-auto my-profile-header-center-icon"})])]),(0,s.Lk)("div",ce,[(0,s.Lk)("div",me,[(0,s.bF)(z,{class:"q-mb-sm"}),(0,s.bF)(R)]),(0,s.Lk)("div",ge,[(0,s.bF)(le)])])])),_:1})}}};var he=r(7716),je=r(3952);const fe=(0,Z.A)(pe,[["__scopeId","data-v-dfdae902"]]),ke=fe;E()(pe,"components",{QPage:he.A,QAvatar:je.A})}}]);