(globalThis["webpackChunkhomedocs"]=globalThis["webpackChunkhomedocs"]||[]).push([[125],{2135:(e,a,s)=>{var r={"./af.js":[1129,121],"./am.js":[4696,121],"./ar-dz.js":[5552,121],"./ar-iq.js":[644,121],"./ar-kw.js":[6388,121],"./ar-ly.js":[6417,121],"./ar-ma.js":[8560,121],"./ar-sa.js":[6746,121],"./ar-tn.js":[7468,121],"./ar.js":[7461,121],"./az.js":[1485,121],"./be.js":[1263,121],"./bg.js":[81,121],"./bi.js":[1107,121],"./bm.js":[855,121],"./bn-bd.js":[1421,121],"./bn.js":[3594,121],"./bo.js":[3849,121],"./br.js":[7422,121],"./bs.js":[6733,121],"./ca.js":[3258,121],"./cs.js":[2416,121],"./cv.js":[9587,121],"./cy.js":[178,121],"./da.js":[9553,121],"./de-at.js":[3823,121],"./de-ch.js":[2409,121],"./de.js":[157,121],"./dv.js":[3012,121],"./el.js":[6995,121],"./en-au.js":[7936,121],"./en-ca.js":[2362,121],"./en-gb.js":[3907,121],"./en-ie.js":[648,121],"./en-il.js":[9607,121],"./en-in.js":[3097,121],"./en-nz.js":[7114,121],"./en-sg.js":[716,121],"./en-tt.js":[2094,121],"./en.js":[5957,121],"./eo.js":[5238,121],"./es-do.js":[4902,121],"./es-mx.js":[5442,121],"./es-pr.js":[2197,121],"./es-us.js":[639,121],"./es.js":[3602,121],"./et.js":[5339,121],"./eu.js":[5812,121],"./fa.js":[2423,121],"./fi.js":[6479,121],"./fo.js":[8429,121],"./fr-ca.js":[499,121],"./fr-ch.js":[5604,121],"./fr.js":[1450,121],"./fy.js":[9375,121],"./ga.js":[7686,121],"./gd.js":[6169,121],"./gl.js":[9633,121],"./gom-latn.js":[951,121],"./gu.js":[7354,121],"./he.js":[7665,121],"./hi.js":[9813,121],"./hr.js":[2260,121],"./ht.js":[4498,121],"./hu.js":[2913,121],"./hy-am.js":[4872,121],"./id.js":[15,121],"./is.js":[1678,121],"./it-ch.js":[5891,121],"./it.js":[4335,121],"./ja.js":[6131,121],"./jv.js":[2026,121],"./ka.js":[4098,121],"./kk.js":[3040,121],"./km.js":[9174,121],"./kn.js":[403,121],"./ko.js":[9116,121],"./ku.js":[4126,121],"./ky.js":[778,121],"./lb.js":[1984,121],"./lo.js":[8171,121],"./lt.js":[8070,121],"./lv.js":[1836,121],"./me.js":[4028,121],"./mi.js":[4152,121],"./mk.js":[2610,121],"./ml.js":[6043,121],"./mn.js":[5005,121],"./mr.js":[2121,121],"./ms-my.js":[6361,121],"./ms.js":[9338,121],"./mt.js":[9379,121],"./my.js":[8216,121],"./nb.js":[4578,121],"./ne.js":[539,121],"./nl-be.js":[1496,121],"./nl.js":[8524,121],"./nn.js":[518,121],"./oc-lnc.js":[4018,121],"./pa-in.js":[7561,121],"./pl.js":[370,121],"./pt-br.js":[6015,121],"./pt.js":[2138,121],"./rn.js":[813,121],"./ro.js":[409,121],"./ru.js":[4575,121],"./rw.js":[97,121],"./sd.js":[3525,121],"./se.js":[5782,121],"./si.js":[3490,121],"./sk.js":[1736,121],"./sl.js":[8941,121],"./sq.js":[9098,121],"./sr-cyrl.js":[106,121],"./sr.js":[8023,121],"./ss.js":[1952,121],"./sv-fi.js":[7053,121],"./sv.js":[3315,121],"./sw.js":[3052,121],"./ta.js":[3329,121],"./te.js":[7837,121],"./tet.js":[6845,121],"./tg.js":[8875,121],"./th.js":[8106,121],"./tk.js":[1831,121],"./tl-ph.js":[6943,121],"./tlh.js":[5388,121],"./tr.js":[1048,121],"./tzl.js":[4182,121],"./tzm-latn.js":[1631,121],"./tzm.js":[6101,121],"./ug-cn.js":[2478,121],"./uk.js":[8922,121],"./ur.js":[3729,121],"./uz-latn.js":[9259,121],"./uz.js":[3561,121],"./vi.js":[7087,121],"./x-pseudo.js":[1619,121],"./yo.js":[8170,121],"./zh-cn.js":[6712,121],"./zh-hk.js":[9344,121],"./zh-tw.js":[8016,121],"./zh.js":[7188,121]};function t(e){if(!s.o(r,e))return Promise.resolve().then((()=>{var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=r[e],t=a[0];return s.e(a[1]).then((()=>s.t(t,19)))}t.keys=()=>Object.keys(r),t.id=2135,e.exports=t},2553:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>je});var r=s(1758),t=s(8790),o=s(8734),l=s(3537),n=s(9104),i=s(3597),d=s(8051),c=s(7836),u=s(129);const m={__name:"BaseWidget",props:{title:{type:String,required:!1,default:""},caption:{type:String,required:!1,default:""},icon:{type:String,required:!0},iconToolTip:{type:String,required:!1},onHeaderIconClick:{type:Function,default:null},loading:{type:Boolean,required:!1},error:{type:Boolean,required:!1}},setup(e){const{t:a}=(0,l.s9)(),s=e,i=(0,r.EW)((()=>s.onHeaderIconClick?"cursor-pointer":"cursor-default")),d=()=>{s.onHeaderIconClick&&"function"===typeof s.onHeaderIconClick&&s.onHeaderIconClick()};return(s,l)=>{const c=(0,r.g2)("q-icon"),m=(0,r.g2)("q-item-section"),g=(0,r.g2)("q-item-label"),p=(0,r.g2)("q-item"),h=(0,r.g2)("q-separator"),j=(0,r.g2)("q-card-section"),f=(0,r.g2)("q-card");return(0,r.uX)(),(0,r.Wv)(f,{class:"full-width"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{class:"theme-default-q-card-section-header"},{default:(0,r.k6)((()=>[(0,r.bF)(m,{avatar:""},{default:(0,r.k6)((()=>[e.loading?((0,r.uX)(),(0,r.Wv)(c,{key:0,name:"settings",class:"animation-spin"})):e.error?((0,r.uX)(),(0,r.Wv)(c,{key:1,name:"error",color:"red",onClick:(0,n.D$)(d,["stop"]),class:(0,t.C4)(i.value)},{default:(0,r.k6)((()=>[e.iconToolTip?((0,r.uX)(),(0,r.Wv)(u.A,{key:0},{default:(0,r.k6)((()=>[(0,r.eW)((0,t.v_)((0,o.R1)(a)(e.iconToolTip)),1)])),_:1})):(0,r.Q3)("",!0)])),_:1},8,["class"])):((0,r.uX)(),(0,r.Wv)(c,{key:2,name:e.icon,onClick:(0,n.D$)(d,["stop"]),class:(0,t.C4)(i.value)},{default:(0,r.k6)((()=>[e.iconToolTip?((0,r.uX)(),(0,r.Wv)(u.A,{key:0},{default:(0,r.k6)((()=>[(0,r.eW)((0,t.v_)((0,o.R1)(a)(e.iconToolTip)),1)])),_:1})):(0,r.Q3)("",!0)])),_:1},8,["name","class"]))])),_:1}),(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(g,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,t.v_)((0,o.R1)(a)(e.title)),1)])),_:1}),(0,r.bF)(g,{caption:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,t.v_)((0,o.R1)(a)(e.caption)),1)])),_:1})])),_:1})])),_:1}),(0,r.bF)(h),(0,r.bF)(j,null,{default:(0,r.k6)((()=>[(0,r.RG)(s.$slots,"content")])),_:3})])),_:3})}}};var g=s(3316),p=s(124),h=s(4189),j=s(5173),f=s(492),k=s(3796),v=s(386),b=s(8582),E=s.n(b);const y=m,A=y;E()(m,"components",{QCard:g.A,QItem:p.A,QCardSection:h.A,QItemSection:j.A,QIcon:f.A,QItemLabel:k.A,QSeparator:v.A});var w=s(4798),q=s(1112),x=s(2139);const _={__name:"UpdateProfileForm",props:{autoFocus:{type:Boolean,required:!1,default:!1}},setup(e){const{t:a}=(0,l.s9)(),{api:s}=(0,d.M)(),{bus:u}=(0,i.U)(),m=(0,c.b)(),g=e,p=(0,o.Kh)({loading:!1,loadingError:!1,errorMessage:null,apiError:null}),h=(0,o.Kh)({email:null,password:null}),j=(0,o.KR)(null),f=(0,o.KR)(null),k=(0,o.KR)(!1),v=(0,o.Kh)({email:{hasErrors:!1,message:null},password:{hasErrors:!1,message:null}}),b=()=>{v.email.hasErrors=!1,v.email.message=null,v.password.hasErrors=!1,v.password.message=null,j.value?.resetValidation(),f.value?.resetValidation()},E=()=>{p.loading=!0,p.loadingError=!1,p.errorMessage=null,p.apiError=null,h.email=null,h.password=null,s.user.getProfile().then((e=>{h.email=e.data.data.email,p.loading=!1,g.autoFocus&&(0,r.dY)((()=>{f.value?.focus()}))})).catch((e=>{if(p.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:p.apiError=e.customAPIErrorDetails,p.errorMessage="Auth session expired, requesting new...",u.emit("reAuthRequired",{emitter:"UpdateProfileForm.onGetProfile"});break;default:p.apiError=e.customAPIErrorDetails,p.errorMessage="API Error: fatal error";break}else p.errorMessage=`Uncaught exception: ${e}`,console.error(e);p.loading=!1,g.autoFocus&&(0,r.dY)((()=>{f.value?.focus()}))}))},y=()=>{b(),j.value?.validate(),f.value?.validate(),j.value?.hasError||f.value?.hasError?(0,r.dY)((()=>{j.value?.hasError?j.value?.focus():f.value?.hasError&&f.value?.focus()})):_()},_=()=>{p.loading=!0,p.loadingError=!1,p.errorMessage=null,p.apiError=null,k.value=!1,s.user.updateProfile(h.email,h.password).then((e=>{k.value=!0,h.email=e.data.data.email,h.password=null,p.loading=!1,(0,r.dY)((()=>{j.value?.focus()}))})).catch((e=>{if(p.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:p.apiError=e.customAPIErrorDetails,p.errorMessage="Auth session expired, requesting new...",u.emit("reAuthRequired",{emitter:"UpdateProfileForm.onSubmitForm"});break;case 409:v.email.hasErrors=!0,v.email.message="Email already used",p.errorMessage="Error updating profile",(0,r.dY)((()=>{j.value?.focus()}));break;default:p.apiError=e.customAPIErrorDetails,p.errorMessage="API Error: fatal error";break}else p.errorMessage=`Uncaught exception: ${e}`,console.error(e);p.loading=!1}))};return(0,r.sV)((()=>{E(),u.on("reAuthSucess",(e=>{e.to?.includes("UpdateProfileForm.onGetProfile")&&E(),e.to?.includes("UpdateProfileForm.onSubmitForm")&&_()}))})),(0,r.xo)((()=>{u.off("reAuthSucess")})),(e,s)=>{const l=(0,r.g2)("q-icon"),i=(0,r.g2)("q-input"),d=(0,r.g2)("q-spinner-hourglass"),c=(0,r.g2)("q-btn");return(0,r.uX)(),(0,r.Wv)(A,{title:"Personal information",caption:"Update your data",icon:"contact_mail"},{content:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:(0,n.D$)(y,["prevent","stop"]),autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"},[(0,r.bF)(i,{class:"q-my-md",dense:"",outlined:"",modelValue:h.email,"onUpdate:modelValue":s[0]||(s[0]=e=>h.email=e),type:"email",name:"email",label:(0,o.R1)(a)("Email"),disable:p.loading,error:v.email.hasErrors,"error-message":v.email.message?(0,o.R1)(a)(v.email.message):"",rules:(0,o.R1)(m).requiredFieldRules,"lazy-rules":"",ref_key:"emailRef",ref:j},{prepend:(0,r.k6)((()=>[(0,r.bF)(l,{name:"alternate_email"})])),_:1},8,["modelValue","label","disable","error","error-message","rules"]),(0,r.bF)(w.A,{class:"q-my-md",dense:"",outlined:"",modelValue:h.password,"onUpdate:modelValue":s[1]||(s[1]=e=>h.password=e),name:"password",label:(0,o.R1)(a)("New password"),error:v.password.hasErrors,"error-message":v.password.message?(0,o.R1)(a)(v.password.message):"",disable:p.loading,rules:(0,o.R1)(m).requiredFieldRules,"lazy-rules":"",ref_key:"passwordRef",ref:f},null,8,["modelValue","label","error","error-message","disable","rules"]),(0,r.bF)(c,{color:"primary",size:"md",label:e.$t("Update profile"),"no-caps":"",class:"full-width q-my-xs",icon:" account_circle",disable:p.loading||!h.password,loading:p.loading,type:"submit"},{loading:(0,r.k6)((()=>[(0,r.bF)(d,{class:"on-left"}),(0,r.eW)(" "+(0,t.v_)((0,o.R1)(a)("Update profile")),1)])),_:1},8,["label","disable","loading"]),k.value?((0,r.uX)(),(0,r.Wv)(x.A,{key:0,text:"Profile has been successfully updated",success:"",class:"q-mt-lg"})):p.loadingError?((0,r.uX)(),(0,r.Wv)(q.A,{key:1,text:p.errorMessage||"Error loading data","api-error":p.apiError,class:"q-mt-lg"},null,8,["text","api-error"])):(0,r.Q3)("",!0)],32)])),_:1})}}};var M=s(9270),D=s(6384),F=s(3194);const S=_,U=S;E()(_,"components",{QInput:M.A,QIcon:f.A,QBtn:D.A,QSpinnerHourglass:F.A});var P=s(1307);const R={class:"q-my-none"},I={class:"q-my-none"},W={__name:"ProfileStorageSettingsWidget",setup(e){const{t:a}=(0,l.s9)(),{alwaysOpenUploadDialog:s,showToolTips:t}=(0,P.M)(),n=(0,o.KR)(s.get()),i=e=>{s.set(e)},d=(0,o.KR)(t.get()),c=e=>{t.set(e)};return(e,s)=>{const t=(0,r.g2)("q-toggle");return(0,r.uX)(),(0,r.Wv)(A,{title:"Profile settings",caption:"Customize how you interact with the platform.",icon:"settings"},{content:(0,r.k6)((()=>[(0,r.Lk)("p",R,[(0,r.bF)(t,{modelValue:n.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>n.value=e),i],"checked-icon":"check",color:"green",label:(0,o.R1)(a)("Always show uploading dialog after adding files"),"unchecked-icon":"clear",class:"q-mr-md"},null,8,["modelValue","label"])]),(0,r.Lk)("p",I,[(0,r.bF)(t,{modelValue:d.value,"onUpdate:modelValue":[s[1]||(s[1]=e=>d.value=e),c],"checked-icon":"check",color:"green",label:(0,o.R1)(a)("Show tooltips"),"unchecked-icon":"clear",class:"q-mr-md"},null,8,["modelValue","label"])])])),_:1})}}};var C=s(5087);const T=W,z=T;E()(W,"components",{QToggle:C.A});var L=s(2732),Q=(s(8812),s(2042),s(9875),s(2090),s(8441),s(8462),s(2336),s(3394)),X=s(6246),Y=s(7719),$=s(6208),V=s(1460),K=s(4503),B=s(39);const H={id:"cal-heatmap-container",class:"calContainerRef"},N={key:0,class:"q-mb-md q-gutter-sm q-py-sm"},O={__name:"ActivityHeatMap",props:{showNavigationButtons:{type:Boolean,required:!1,default:!0}},emits:["loading","loaded","error"],setup(e,{emit:a}){const s=(0,Q.rd)(),{t:c}=(0,l.s9)(),{isDarkModeActive:u}=(0,$.D)(),{i18n:m}=(0,Y.U)(),{api:g}=(0,d.M)(),{bus:p}=(0,i.U)(),h=a,j=(0,o.Kh)({loading:!1,loadingError:!1,errorMessage:null,apiError:null}),f=(0,o.KR)(!1),k=(0,o.KR)(!1),v=(0,r.EW)((()=>m.global.locale.value.substring(0,2))),b={itemSelector:"#cal-heatmap"};let E=new Date((new Date).setFullYear((new Date).getFullYear()-2));E.setDate(1),E.setHours(0,0,0,0);const y=(0,o.KR)({date:{locale:v.value,start:new Date((new Date).setFullYear((new Date).getFullYear()-1)),end:new Date,min:E,max:new Date},range:13,scale:{color:{scheme:"greens",type:"threshold",domain:null}},domain:{type:"month",gutter:4,label:{text:"MMM",textAlign:"start",position:"top"}},subDomain:{type:"ghDay",radius:2,width:11,height:11,gutter:4},theme:u()?"dark":"light"}),A=[[K.A,{text:function(e,a,s){return a?`${a} ${c(" change/s on date ")} ${s.format("dddd, MMMM D, YYYY")}`:`${c("No activity on date ")} ${s.format("dddd, MMMM D, YYYY")}`}}],[B.A,{width:30,textAlign:"start",text:()=>Array.from({length:7},((e,a)=>new Date(2023,0,a+1).toLocaleDateString(v.value,{weekday:"short"}))).map(((e,a)=>a%2==0?"":e)),padding:[25,0,0,0]}]];let w=new V.A(b);(0,r.wB)((()=>u()),(e=>{console.log(e),w.destroy(),w=new V.A(b),x()})),(0,r.wB)((()=>v.value),(e=>{w.destroy(),w=new V.A(b),x()})),w.on("click",((e,a,r)=>{r>0&&s.push({name:"advancedSearchByFixedUpdatedOn",params:{fixedUpdatedOn:new Date(a).toISOString().split("T")[0]}})})),w.on("minDateReached",(()=>{f.value=!0})),w.on("minDateNotReached",(()=>{f.value=!1})),w.on("maxDateReached",(()=>{k.value=!0})),w.on("maxDateNotReached",(()=>{k.value=!1}));const x=(e,a)=>{e&&(y.value.data=e),a&&(y.value.scale.color.domain=a),y.value.date.locale=v.value,y.value.theme=u()?"dark":"light",w.paint(y.value,A)},_=()=>{w.previous()},M=()=>{w.next()},D=()=>{h("loading"),j.loading=!0,j.loadingError=!1,j.errorMessage=null,j.apiError=null,g.stats.getActivityHeatMapData(X.Ay.formatDate(E,"x")).then((e=>{const a=e.data.heatmap.map((e=>e.count));let s=[...new Set(a)];s.unshift(0),s.sort((function(e,a){return e-a})),x({source:e.data.heatmap,x:"date",y:"count",type:"json"},s),j.loading=!1,h("loaded")})).catch((e=>{if(j.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:j.apiError=e.customAPIErrorDetails,j.errorMessage="Auth session expired, requesting new...",p.emit("reAuthRequired",{emitter:"ActivityHeatMap"});break;default:j.apiError=e.customAPIErrorDetails,j.errorMessage="API Error: fatal error";break}else j.errorMessage=`Uncaught exception: ${e}`,console.error(e);j.loading=!1,h("error")}))};return(0,r.sV)((()=>{D(),p.on("reAuthSucess",(e=>{e.to?.includes("ActivityHeatMap")&&D()}))})),(0,r.xo)((()=>{p.off("reAuthSucess")})),(a,s)=>{const l=(0,r.g2)("q-btn");return(0,r.uX)(),(0,r.CE)("div",H,[s[0]||(s[0]=(0,r.Lk)("div",{id:"cal-heatmap"},null,-1)),e.showNavigationButtons?((0,r.uX)(),(0,r.CE)("div",N,[(0,r.bF)(l,{icon:"arrow_left",disabled:j.loading||f.value,size:"md",color:"primary",onClick:(0,n.D$)(_,["prevent"])},{default:(0,r.k6)((()=>[(0,r.eW)((0,t.v_)((0,o.R1)(c)("Previous")),1)])),_:1},8,["disabled"]),(0,r.bF)(l,{"icon-right":"arrow_right",disabled:j.loading||k.value,size:"md",color:"primary",onClick:(0,n.D$)(M,["prevent"])},{default:(0,r.k6)((()=>[(0,r.eW)((0,t.v_)((0,o.R1)(c)("Next")),1)])),_:1},8,["disabled"])])):(0,r.Q3)("",!0),j.loadingError?((0,r.uX)(),(0,r.Wv)(q.A,{key:1,text:j.errorMessage||"Error loading data","api-error":j.apiError},null,8,["text","api-error"])):(0,r.Q3)("",!0)])}}};var G=s(2807);const J=(0,G.A)(O,[["__scopeId","data-v-322d9758"]]),Z=J;E()(O,"components",{QBtn:D.A});const ee={class:"text-center text-h6 q-my-sm"},ae={class:"row"},se={__name:"SystemStatsWidget",setup(e){const{t:a}=(0,l.s9)(),{api:s}=(0,d.M)(),{bus:n}=(0,i.U)(),c=(0,o.Kh)({loading:!1,loadingError:!1}),u=(0,o.Kh)({documents:{total:0,loading:!1,loadingError:!1,errorMessage:null,apiError:null,headerLabel:"Total documents",icon:"shelves"},attachments:{total:0,loading:!1,loadingError:!1,errorMessage:null,apiError:null,headerLabel:"Total attachments",icon:"attachment"},diskUsage:{total:0,loading:!1,loadingError:!1,errorMessage:null,apiError:null,headerLabel:"Disk usage",icon:"data_usage"}}),m=()=>{c.loadingError=!1,c.loading=!0},g=()=>{c.loading=!1},p=()=>{c.loadingError=!0,c.loading=!1},h=()=>{u.documents.loading||(u.documents.loading=!0,u.documents.total=0,u.documents.loadingError=!1,u.documents.errorMessage=null,u.documents.apiError=null,s.stats.documentCount().then((e=>{u.documents.total=e.data.count,u.documents.loading=!1})).catch((e=>{if(u.documents.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:u.documents.apiError=e.customAPIErrorDetails,u.documents.errorMessage="Auth session expired, requesting new...",n.emit("reAuthRequired",{emitter:"SystemStatsWidget.TotalDocuments"});break;default:u.documents.apiError=e.customAPIErrorDetails,u.documents.errorMessage="API Error: fatal error";break}else u.documents.errorMessage=`Uncaught exception: ${e}`,console.error(e);u.documents.loading=!1})))},j=()=>{u.attachments.loading||(u.attachments.loading=!0,u.attachments.total=0,u.attachments.loadingError=!1,u.attachments.errorMessage=null,u.attachments.apiError=null,s.stats.attachmentCount().then((e=>{u.attachments.total=e.data.count,u.attachments.loading=!1})).catch((e=>{if(u.attachments.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:u.attachments.apiError=e.customAPIErrorDetails,u.attachments.errorMessage="Auth session expired, requesting new...",n.emit("reAuthRequired",{emitter:"SystemStatsWidget.TotalAttachments"});break;default:u.attachments.apiError=e.customAPIErrorDetails,u.attachments.errorMessage="API Error: fatal error";break}else u.attachments.errorMessage=`Uncaught exception: ${e}`,console.error(e);u.attachments.loading=!1})))},f=()=>{u.diskUsage.loading||(u.diskUsage.loading=!0,u.diskUsage.total=0,u.diskUsage.loadingError=!1,u.diskUsage.errorMessage=null,u.diskUsage.apiError=null,s.stats.attachmentDiskSize().then((e=>{u.diskUsage.total=L.Ay.humanStorageSize(e.data.size),u.diskUsage.loading=!1})).catch((e=>{if(u.diskUsage.loadingError=!0,e.isAPIError)switch(e.response.status){case 401:u.diskUsage.apiError=e.customAPIErrorDetails,u.diskUsage.errorMessage="Auth session expired, requesting new...",n.emit("reAuthRequired",{emitter:"SystemStatsWidget.TotalAttachmentsDiskUsage"});break;default:u.diskUsage.apiError=e.customAPIErrorDetails,u.diskUsage.errorMessage="API Error: fatal error";break}else u.diskUsage.errorMessage=`Uncaught exception: ${e}`,console.error(e);u.diskUsage.loading=!1})))};return(0,r.sV)((()=>{h(),j(),f(),n.on("reAuthSucess",(e=>{e.to?.includes("SystemStatsWidget.TotalDocuments")&&h(),e.to?.includes("SystemStatsWidget.TotalAttachments")&&j(),e.to?.includes("SystemStatsWidget.TotalAttachmentsDiskUsage")&&f()}))})),(0,r.xo)((()=>{n.off("reAuthSucess")})),(e,s)=>{const l=(0,r.g2)("q-icon"),n=(0,r.g2)("q-separator"),i=(0,r.g2)("q-card-section"),d=(0,r.g2)("q-card");return(0,r.uX)(),(0,r.Wv)(A,{title:"Your system stats",caption:"Small resume of your platform usage",icon:"analytics"},{content:(0,r.k6)((()=>[(0,r.Lk)("div",null,[(0,r.Lk)("h6",ee,[(0,r.bF)(l,{name:c.loading?"settings":"insights",class:(0,t.C4)({"animation-spin":c.loading})},null,8,["name","class"]),(0,r.eW)(" "+(0,t.v_)((0,o.R1)(a)("Activity Heatmap")),1)]),(0,r.Lk)("div",null,[(0,r.bF)(Z,{class:"q-mx-auto","show-navigation-buttons":!0,onLoading:m,onLoaded:g,onError:p})]),(0,r.bF)(n,{class:"q-my-md"}),(0,r.Lk)("div",ae,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u,((e,s)=>((0,r.uX)(),(0,r.CE)("div",{key:s,class:"col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"},[(0,r.bF)(d,{class:"q-ma-sm"},{default:(0,r.k6)((()=>[(0,r.bF)(i,{class:"text-center text-h6 theme-default-q-card-section-header"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{name:e.loading?"settings":e.error?"error":e.icon,class:(0,t.C4)({"text-red":e.error,"animation-spin":e.loading})},null,8,["name","class"]),(0,r.eW)(" "+(0,t.v_)((0,o.R1)(a)(e.headerLabel)),1)])),_:2},1024),e.loadingError?((0,r.uX)(),(0,r.Wv)(i,{key:1},{default:(0,r.k6)((()=>[(0,r.bF)(q.A,{text:e.errorMessage||"Error loading data","api-error":e.apiError},null,8,["text","api-error"])])),_:2},1024)):((0,r.uX)(),(0,r.Wv)(i,{key:0,class:"text-center text-h4"},{default:(0,r.k6)((()=>[(0,r.eW)((0,t.v_)(e.total),1)])),_:2},1024))])),_:2},1024)])))),128))])])])),_:1})}}},re=se,te=re;E()(se,"components",{QIcon:f.A,QSeparator:v.A,QCard:g.A,QCardSection:h.A});const oe={class:"my-profile-header-container"},le={class:"my-profile-header-background-image-cover flex flex-center q-mx-auto"},ne={class:"text-h2 text-white text-weight-bolder q-my-none"},ie={class:"text-center"},de={class:"row q-col-gutter-sm"},ce={class:"col-lg-4 col-xl-4 col-12 flex"},ue={class:"col-lg-8 col-xl-8 col-12 flex"},me={__name:"ProfilePage",setup(e){const{t:a}=(0,l.s9)();return(e,s)=>{const l=(0,r.g2)("q-avatar"),n=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(n,null,{default:(0,r.k6)((()=>[(0,r.Lk)("div",oe,[(0,r.Lk)("div",le,[(0,r.bF)(l,{icon:"edit",size:"48px",class:"bg-dark text-white my-profile-header-top-right-icon"}),(0,r.Lk)("h2",ne,(0,t.v_)((0,o.R1)(a)("My profile")),1)]),(0,r.Lk)("div",ie,[(0,r.bF)(l,{icon:"account_circle",size:"160px",class:"bg-grey-4 q-mx-auto my-profile-header-center-icon"})])]),(0,r.Lk)("div",de,[(0,r.Lk)("div",ce,[(0,r.bF)(z,{class:"q-mb-sm"}),(0,r.bF)(U)]),(0,r.Lk)("div",ue,[(0,r.bF)(te)])])])),_:1})}}};var ge=s(7716),pe=s(3952);const he=(0,G.A)(me,[["__scopeId","data-v-dfdae902"]]),je=he;E()(me,"components",{QPage:ge.A,QAvatar:pe.A})}}]);