"use strict";(globalThis["webpackChunkhomedocs"]=globalThis["webpackChunkhomedocs"]||[]).push([[631],{8887:(e,a,l)=>{l.d(a,{o:()=>u});var t=l(587),n=l(660);Array.from(window.location.host).reduce(((e,a)=>0|31*e+a.charCodeAt(0)),0);const u=(0,t.nY)("initialState",{state:()=>({initialState:{allowSignUp:!1,maxUploadFileSize:1}}),getters:{isSignUpAllowed:e=>e.initialState.allowSignUp,maxUploadFileSize:e=>e.initialState.maxUploadFileSize},actions:{load(){n.api.common.initialState().then((e=>{this.initialState.allowSignUp=e.data.initialState.allowSignUp,this.initialState.maxUploadFileSize=e.data.initialState.maxUploadFileSize})).catch((e=>{console.error(e.response)}))}}})},9738:(e,a,l)=>{l.d(a,{A:()=>p});var t=l(1758),n=l(8734),u=l(8790),i=l(660),s=l(3537);const o={__name:"TagSelector",props:{modelValue:Array,disabled:Boolean,dense:Boolean},emits:["update:modelValue","error"],setup(e,{emit:a}){const{t:l}=(0,s.s9)(),o=e,d=a,r=(0,n.KR)(""),c=(0,n.KR)(!1),v=(0,n.KR)(!1),m=(0,n.KR)([]),p=(0,n.KR)([]),f=(0,t.EW)((()=>o.modelValue||[]));let b=[];function g(e,a){a(""===e?()=>{m.value=b.value}:()=>{const a=e.toLowerCase();m.value=b.filter((e=>e.toLowerCase().indexOf(a)>-1))})}function k(){v.value=!1,c.value=!0,i.api.tag.search().then((e=>{b=e.data.tags,p.value=f.value,c.value=!1})).catch((e=>{v.value=!0,c.value=!1,d("error",e.response)}))}function h(e){r.value.hidePopup()}function y(e){p.value.splice(e,1)}return(0,t.wB)(f,(e=>{p.value=e||[]})),(0,t.wB)(p,(e=>{d("update:modelValue",e||[])})),k(),(a,i)=>{const s=(0,t.g2)("q-chip"),o=(0,t.g2)("q-select");return(0,t.uX)(),(0,t.Wv)(o,{ref_key:"selectRef",ref:r,label:(0,n.R1)(l)("Tags"),modelValue:p.value,"onUpdate:modelValue":i[0]||(i[0]=e=>p.value=e),dense:e.dense,outlined:"","use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"",options:m.value,"input-debounce":"0","new-value-mode":"add-unique",clearable:"",disable:e.disabled||c.value||v.value,loading:c.value,error:v.value,errorMessage:(0,n.R1)(l)("Error loading available tags"),onFilter:g,onAdd:h},{selected:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(p.value,((e,a)=>((0,t.uX)(),(0,t.Wv)(s,{removable:"",key:e,onRemove:e=>y(a),color:"dark","text-color":"white",icon:"label_important"},{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(e),1)])),_:2},1032,["onRemove"])))),128))])),_:1},8,["label","modelValue","dense","options","disable","loading","error","errorMessage"])}}};var d=l(5178),r=l(6760),c=l(8582),v=l.n(c);const m=o,p=m;v()(o,"components",{QSelect:d.A,QChip:r.A})},1631:(e,a,l)=>{l.r(a),l.d(a,{default:()=>ke});l(239);var t=l(1758),n=l(8790),u=l(8734),i=l(9104),s=l(455),o=l(5192),d=l(2732),r=l(6246),c=l(4907),v=l(3537),m=l(660),p=l(9738);const f={__name:"ConfirmationModal",emits:["close","ok"],setup(e,{emit:a}){const{t:l}=(0,v.s9)(),s=a,o=(0,u.KR)(!0);function d(){o.value=!1,s("close")}function r(){o.value=!1,s("cancel")}function c(){o.value=!1,s("ok")}return(e,a)=>{const s=(0,t.g2)("q-card-section"),v=(0,t.g2)("q-icon"),m=(0,t.g2)("q-btn"),p=(0,t.g2)("q-card-actions"),f=(0,t.g2)("q-card"),b=(0,t.g2)("q-dialog");return(0,t.uX)(),(0,t.Wv)(b,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),onHide:d},{default:(0,t.k6)((()=>[(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.bF)(s,{class:"bg-grey-8 text-white q-p-none"},{default:(0,t.k6)((()=>[(0,t.RG)(e.$slots,"header")])),_:3}),(0,t.bF)(s,{class:"q-p-none"},{default:(0,t.k6)((()=>[(0,t.RG)(e.$slots,"body")])),_:3}),(0,t.bF)(p,{align:"right"},{default:(0,t.k6)((()=>[(0,t.bF)(m,{outline:"",onClick:(0,i.D$)(r,["stop"]),class:"bg-grey-6 text-white"},{default:(0,t.k6)((()=>[(0,t.bF)(v,{left:"",name:"close"}),(0,t.eW)((0,n.v_)((0,u.R1)(l)("Cancel")),1)])),_:1}),(0,t.bF)(m,{outline:"",onClick:(0,i.D$)(c,["stop"]),class:"bg-dark text-white"},{default:(0,t.k6)((()=>[(0,t.bF)(v,{left:"",name:"done"}),(0,t.eW)((0,n.v_)((0,u.R1)(l)("Ok")),1)])),_:1})])),_:1})])),_:3})])),_:3},8,["modelValue"])}}};var b=l(2156),g=l(3316),k=l(4189),h=l(2669),y=l(6384),_=l(492),A=l(8582),w=l.n(A);const R=f,x=R;w()(f,"components",{QDialog:b.A,QCard:g.A,QCardSection:k.A,QCardActions:h.A,QBtn:y.A,QIcon:_.A});const F={class:"text-h6"},q={key:0,class:"flex flex-center"},S={key:1},D={controls:"",class:"q-mt-md",style:{width:"100%"}},C=["src"],Q={key:2},Y={key:3,class:"text-subtitle1 text-center"},z={__name:"FilePreviewModal",props:{files:Array,index:Number},emits:["close"],setup(e,{emit:a}){const{t:l}=(0,v.s9)(),i=e,s=(0,u.KR)(i.index+1||1),o=(0,u.KR)(i.files?i.files.length:0);s.value>o.value&&(s.value=1);const d=(0,t.EW)((()=>i.files&&o.value>0?i.files[s.value-1]:{id:null,name:null,humanSize:0})),r=a,c=(0,u.KR)(!0),m=(0,u.KR)(!1);function p(e){return e.match(/.(jpg|jpeg|png|gif)$/i)}function f(e){return e.match(/.(mp3)$/i)}return(a,i)=>{const v=(0,t.g2)("q-space"),b=(0,t.g2)("q-btn"),g=(0,t.g2)("q-card-section"),k=(0,t.g2)("q-banner"),h=(0,t.g2)("q-pagination"),y=(0,t.g2)("q-img"),_=(0,t.g2)("q-icon"),A=(0,t.g2)("q-card-actions"),w=(0,t.g2)("q-card"),R=(0,t.g2)("q-dialog"),x=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.Wv)(R,{modelValue:c.value,"onUpdate:modelValue":i[3]||(i[3]=e=>c.value=e),onHide:i[4]||(i[4]=e=>r("close"))},{default:(0,t.k6)((()=>[(0,t.bF)(w,{style:{width:"700px","max-width":"80vw"}},{default:(0,t.k6)((()=>[(0,t.bF)(g,{class:"row items-center bg-grey-8 text-white q-p-none"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",F,(0,n.v_)((0,u.R1)(l)("File preview")),1),(0,t.bF)(v),(0,t.bo)((0,t.bF)(b,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,t.bF)(g,{class:"q-pt-none"},{default:(0,t.k6)((()=>[(0,t.bF)(k,{"inline-actions":"",class:"text-center"},{default:(0,t.k6)((()=>[(0,t.Lk)("strong",null,(0,n.v_)(d.value.name)+" ("+(0,n.v_)(d.value.humanSize)+")",1)])),_:1}),o.value>1?((0,t.uX)(),(0,t.CE)("div",q,[e.files.length>0?((0,t.uX)(),(0,t.Wv)(h,{key:0,modelValue:s.value,"onUpdate:modelValue":[i[0]||(i[0]=e=>s.value=e),i[1]||(i[1]=e=>m.value=!1)],max:o.value,color:"dark","max-pages":5,"boundary-numbers":"","direction-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward",gutter:"md"},null,8,["modelValue","max"])):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(g,{class:"q-pt-none"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",null,[p(d.value.name)?((0,t.uX)(),(0,t.Wv)(y,{key:0,src:d.value.url,loading:"lazy","spinner-color":"white",onError:i[2]||(i[2]=e=>m.value=!0)},null,8,["src"])):f(d.value.name)?((0,t.uX)(),(0,t.CE)("div",S,[(0,t.Lk)("audio",D,[(0,t.Lk)("source",{src:d.value.url,type:"audio/mpeg"},null,8,C),(0,t.eW)(" "+(0,n.v_)((0,u.R1)(l)("Your browser does not support the audio element")),1)])])):((0,t.uX)(),(0,t.CE)("div",Q,[(0,t.bF)(k,{"inline-actions":"",class:"text-white bg-grey"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{name:"error",size:"sm"}),(0,t.eW)(" "+(0,n.v_)((0,u.R1)(l)("Preview not available")),1)])),_:1})])),m.value?((0,t.uX)(),(0,t.CE)("div",Y,[(0,t.bF)(k,{"inline-actions":"",class:"text-white bg-red"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{name:"error",size:"sm"}),(0,t.eW)(" "+(0,n.v_)((0,u.R1)(l)("Error loading preview")),1)])),_:1})])):(0,t.Q3)("",!0)]),(0,t.bF)(A,{align:"right"},{default:(0,t.k6)((()=>[(0,t.bF)(b,{outline:"",href:d.value.url,label:(0,u.R1)(l)("Download"),icon:"download",disable:m.value,class:"bg-grey-6 text-white"},null,8,["href","label","disable"]),(0,t.bo)((0,t.bF)(b,{outline:"",label:(0,u.R1)(l)("Close"),icon:"close",class:"bg-dark text-white"},null,8,["label"]),[[x]])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var L=l(3676),V=l(6868),W=l(4700),E=l(2665),I=l(8672);const P=z,X=P;w()(z,"components",{QDialog:b.A,QCard:g.A,QCardSection:k.A,QSpace:L.A,QBtn:y.A,QBanner:V.A,QPagination:W.A,QImg:E.A,QIcon:_.A,QCardActions:h.A}),w()(z,"directives",{ClosePopup:I.A});var T=l(8887);const K={class:"q-pa-md"},O={class:"row items-center q-pb-md"},M={key:0,class:"q-mt-sm q-mb-sm"},U={key:1,class:"q-mt-sm q-mb-sm"},$={class:"q-gutter-y-md"},N={class:"text-left"},H={class:"text-left"},B={class:"text-right"},j={class:"text-center"},G={class:"text-left"},J={class:"text-left"},Z={class:"text-right"},ee={class:"text-center"},ae={class:"text-h6"},le={class:"text-subtitle2"},te={class:"text-h6"},ne={class:"text-subtitle2"},ue={__name:"DocumentPage",setup(e){const a=(0,c.A)(),{t:l}=(0,v.s9)(),f=(0,s.lq)(),b=(0,s.rd)(),g=(0,T.o)(),k=(0,t.EW)((()=>g.maxUploadFileSize)),h=(0,u.KR)(null),y=(0,u.KR)(null),_=(0,u.KR)(!1),A=(0,u.KR)(!1),w=(0,u.KR)(!1),R=(0,u.KR)(null),F=(0,u.KR)(!1),q=(0,u.KR)(!1),S=(0,u.KR)(!1),D=(0,u.KR)(!1),C=(0,u.KR)({id:null,title:null,description:null,created:null,createdOnTimestamp:null,createdBy:null,files:[],tags:[]});function Q(){q.value=!0,m.api.document.get(C.value.id).then((e=>{C.value=e.data.data,C.value.createdOn=r.Ay.formatDate(1e3*C.value.createdOnTimestamp,"YYYY-MM-DD HH:mm:ss"),C.value.date=r.Ay.formatDate(1e3*C.value.createdOnTimestamp,"YYYY/MM/DD"),C.value.files.map((e=>(e.isNew=!1,e.uploadedOn=r.Ay.formatDate(1e3*e.uploadedOnTimestamp,"YYYY-MM-DD HH:mm:ss"),e.humanSize=d.Ay.humanStorageSize(e.size),e.url="api2/file/"+e.id,e))),q.value=!1,R.value&&(0,t.dY)((()=>R.value.focus()))})).catch((e=>{switch(q.value=!1,e.response.status){case 401:this.$router.push({name:"signIn"});break;default:a.notify({type:"negative",message:l("API Error: error loading document"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}function Y(){q.value=!0,F.value?(C.value.id||(C.value.id=(0,o.A)()),m.api.document.add(C.value).then((e=>{q.value=!1,(0,t.dY)((()=>{h.value.reset(),R.value.focus()})),b.push({name:"document",params:{id:C.value.id}})})).catch((e=>{switch(C.value.id=null,q.value=!1,e.response.status){case 400:e.response.data.invalidOrMissingParams.find((function(e){return"title"===e}))&&(a.notify({type:"negative",message:l("API Error: missing document title param")}),(0,t.dY)((()=>R.value.focus())));break;case 401:this.$router.push({name:"signIn"});break;default:a.notify({type:"negative",message:l("API Error: error adding document"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))):m.api.document.update(C.value).then((e=>{C.value=e.data.data,C.value.createdOn=r.Ay.formatDate(1e3*C.value.createdOnTimestamp,"YYYY-MM-DD HH:mm:ss"),C.value.date=r.Ay.formatDate(1e3*C.value.createdOnTimestamp,"YYYY/MM/DD"),C.value.files.map((e=>(e.isNew=!1,e.url="api2/file/"+e.id,e.uploadedOn=r.Ay.formatDate(1e3*e.uploadedOnTimestamp,"YYYY-MM-DD HH:mm:ss"),e.humanSize=d.Ay.humanStorageSize(e.size),e))),q.value=!1,(0,t.dY)((()=>{h.value.reset(),R.value.focus()}))})).catch((e=>{switch(q.value=!1,e.response.status){case 400:e.response.data.invalidOrMissingParams.find((function(e){return"title"===e}))&&(a.notify({type:"negative",message:l("API Error: missing document title param")}),(0,t.dY)((()=>R.value.focus())));break;case 401:this.$router.push({name:"signIn"});break;default:a.notify({type:"negative",message:l("API Error: error updating document"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}function z(e){return e.match(/.(jpg|jpeg|png|gif|mp3)$/i)}function L(e){y.value=e,_.value=!0}function V(e,a){y.value=a,A.value=!0}function W(){A.value=!1,w.value=!1}function E(){A.value?I():w.value&&de()}function I(){y.value>-1&&(C.value.files[y.value].isNew?(q.value=!0,m.api.document.removeFile(C.value.files[y.value].id).then((e=>{C.value.files.splice(y.value,1),y.value=null,A.value=!1,q.value=!1})).catch((e=>{q.value=!1,a.notify({type:"negative",message:l("API Error: error removing file"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})})}))):(C.value.files.splice(y.value,1),y.value=null,A.value=!1))}function P(e){C.value.files.push({id:JSON.parse(e.xhr.response).data.id,uploadedOn:r.Ay.formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),name:e.files[0].name,size:e.files[0].size,hash:null,humanSize:d.Ay.humanStorageSize(e.files[0].size),isNew:!0})}function ue(e){"max-file-size"==e[0].failedPropValidation?a.notify({type:"negative",message:"Can not upload file "+e[0].file.name+" (max upload filesize: "+d.Ay.humanStorageSize(k.value)+", current file size: "+d.Ay.humanStorageSize(e[0].file.size)+")"}):a.notify({type:"negative",message:l("Can not upload file",{filename:e[0].file.name})})}function ie(e){a.notify({type:"negative",message:"Can not upload file "+e.files[0].name+", API error: "+e.xhr.status+" - "+e.xhr.statusText})}function se(e){D.value=!0}function oe(e){D.value=!1}function de(){q.value=!0,m.api.document.remove(C.value.id).then((e=>{q.value=!1,a.notify({type:"positive",message:l("Document has been removed")}),b.push({name:"index"})})).catch((e=>{switch(w.value=!1,q.value=!1,e.response.status){case 401:this.$router.push({name:"signIn"});break;case 403:a.notify({type:"negative",message:l("Access denied")});break;case 404:a.notify({type:"negative",message:l("Document not found")});break;default:a.notify({type:"negative",message:l("API Error: error deleting document"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}return b.beforeEach((async(e,a)=>{"newDocument"==e.name?(C.value={id:null,title:null,description:null,created:null,createdOnTimestamp:null,date:null,createdBy:null,files:[],tags:[]},F.value=!0):("newDocument"==a.name&&"document"==e.name&&e.params.id||"newDocument"!=a.name&&"document"==e.name&&e.params.id)&&(F.value=!1,C.value.id=e.params.id,Q())})),C.value.id=f.params.id||null,C.value.id?(F.value=!1,Q()):F.value=!0,(e,a)=>{const s=(0,t.g2)("q-space"),o=(0,t.g2)("q-btn"),d=(0,t.g2)("q-input"),r=(0,t.g2)("q-uploader"),c=(0,t.g2)("q-btn-group"),v=(0,t.g2)("q-icon"),m=(0,t.g2)("q-item-section"),f=(0,t.g2)("q-item-label"),b=(0,t.g2)("q-item"),g=(0,t.g2)("q-list"),Q=(0,t.g2)("q-btn-dropdown"),I=(0,t.g2)("q-markup-table"),T=(0,t.g2)("q-card-section"),de=(0,t.g2)("q-spinner-hourglass"),re=(0,t.g2)("q-card"),ce=(0,t.g2)("q-page"),ve=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.Wv)(ce,{class:"bg-grey-2"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",K,[(0,t.Lk)("div",O,[C.value.id?((0,t.uX)(),(0,t.CE)("h3",U,(0,n.v_)((0,u.R1)(l)("Document")),1)):((0,t.uX)(),(0,t.CE)("h3",M,(0,n.v_)((0,u.R1)(l)("New document")),1)),(0,t.bF)(s),(0,t.bF)(o,{icon:"save",flat:"",round:"",title:(0,u.R1)(l)("Save document"),onClick:Y,disable:q.value||S.value||D.value||!C.value.title},null,8,["title","disable"]),F.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(o,{key:2,icon:"delete",flat:"",round:"",title:(0,u.R1)(l)("Remove document"),onClick:a[0]||(a[0]=e=>w.value=!0)},null,8,["title"]))]),(0,t.Lk)("div",$,[(0,t.bF)(re,null,{default:(0,t.k6)((()=>[(0,t.Lk)("form",{onSubmit:(0,i.D$)(Y,["prevent","stop"]),autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"},[(0,t.bF)(T,null,{default:(0,t.k6)((()=>[C.value.id?((0,t.uX)(),(0,t.Wv)(d,{key:0,class:"q-mb-md",outlined:"",mask:"date",modelValue:C.value.date,"onUpdate:modelValue":a[1]||(a[1]=e=>C.value.date=e),label:(0,u.R1)(l)("Document date"),disable:!0},null,8,["modelValue","label"])):(0,t.Q3)("",!0),(0,t.bF)(d,{class:"q-mb-md",ref_key:"titleRef",ref:R,maxlength:"128",outlined:"",modelValue:C.value.title,"onUpdate:modelValue":a[2]||(a[2]=e=>C.value.title=e),type:"text",name:"title",label:(0,u.R1)(l)("Document title"),disable:q.value||S.value,autofocus:!0},null,8,["modelValue","label","disable"]),(0,t.bF)(d,{class:"q-mb-md",outlined:"",modelValue:C.value.description,"onUpdate:modelValue":a[3]||(a[3]=e=>C.value.description=e),type:"textarea",maxlength:"4096",autogrow:"",name:"description",label:(0,u.R1)(l)("Document description"),disable:q.value||S.value,clearble:""},null,8,["modelValue","label","disable"]),(0,t.bF)(p.A,{modelValue:C.value.tags,"onUpdate:modelValue":a[4]||(a[4]=e=>C.value.tags=e),disabled:q.value||S.value},null,8,["modelValue","disabled"]),(0,t.bF)(r,{ref_key:"uploaderRef",ref:h,class:"q-mb-md",label:(0,u.R1)(l)("Add new file (Drag & Drop supported)"),flat:"",bordered:"","auto-upload":"","hide-upload-btn":"",color:"dark","field-name":"file",url:"api2/file","max-file-size":k.value,multiple:"",onUploaded:P,onRejected:ue,onFailed:ie,method:"post",style:{width:"100%"},disable:q.value||S.value,"no-thumbnails":"",onStart:se,onFinish:oe},null,8,["label","max-file-size","disable"]),C.value.files.length>0?((0,t.uX)(),(0,t.Wv)(I,{key:1},{default:(0,t.k6)((()=>[(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",N,(0,n.v_)((0,u.R1)(l)("Created on")),1),(0,t.Lk)("th",H,(0,n.v_)((0,u.R1)(l)("Name")),1),(0,t.Lk)("th",B,(0,n.v_)((0,u.R1)(l)("Size")),1),(0,t.Lk)("th",j,(0,n.v_)((0,u.R1)(l)("Actions")),1)])]),(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(C.value.files,((e,a)=>((0,t.uX)(),(0,t.CE)("tr",{key:e.id},[(0,t.Lk)("td",G,(0,n.v_)(e.uploadedOn),1),(0,t.Lk)("td",J,(0,n.v_)(e.name),1),(0,t.Lk)("td",Z,(0,n.v_)(e.humanSize),1),(0,t.Lk)("td",ee,[(0,t.bF)(c,{spread:"",class:"desktop-only",disable:q.value},{default:(0,t.k6)((()=>[(0,t.bF)(o,{label:(0,u.R1)(l)("Open/Preview"),icon:"preview",onClick:(0,i.D$)((e=>L(a)),["prevent"]),disable:q.value||!z(e.name)||e.isNew},null,8,["label","onClick","disable"]),(0,t.bF)(o,{label:(0,u.R1)(l)("Download"),icon:"download",href:e.url,disable:q.value||e.isNew},null,8,["label","href","disable"]),(0,t.bF)(o,{label:(0,u.R1)(l)("Remove"),icon:"delete",disable:q.value,onClick:(0,i.D$)((l=>V(e,a)),["prevent"])},null,8,["label","disable","onClick"])])),_:2},1032,["disable"]),(0,t.bF)(Q,{label:(0,u.R1)(l)("Operations"),class:"mobile-only",disable:q.value},{default:(0,t.k6)((()=>[(0,t.bF)(g,null,{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.Wv)(b,{clickable:"",onClick:(0,i.D$)((e=>L(a)),["prevent"]),disable:q.value||!z(e.name)||e.isNew},{default:(0,t.k6)((()=>[(0,t.bF)(m,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(v,{name:"preview"})])),_:1}),(0,t.bF)(m,null,{default:(0,t.k6)((()=>[(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)((0,u.R1)(l)("Open/Preview")),1)])),_:1})])),_:1})])),_:2},1032,["onClick","disable"])),[[ve]]),(0,t.bo)(((0,t.uX)(),(0,t.Wv)(b,{clickable:"",href:e.url,disable:q.value||e.isNew},{default:(0,t.k6)((()=>[(0,t.bF)(m,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(v,{name:"download"})])),_:1}),(0,t.bF)(m,null,{default:(0,t.k6)((()=>[(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)((0,u.R1)(l)("Download")),1)])),_:1})])),_:1})])),_:2},1032,["href","disable"])),[[ve]]),(0,t.bo)(((0,t.uX)(),(0,t.Wv)(b,{clickable:"",onClick:(0,i.D$)((l=>V(e,a)),["prevent"]),disable:q.value},{default:(0,t.k6)((()=>[(0,t.bF)(m,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(v,{name:"delete"})])),_:1}),(0,t.bF)(m,null,{default:(0,t.k6)((()=>[(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)((0,u.R1)(l)("Remove")),1)])),_:1})])),_:1})])),_:2},1032,["onClick","disable"])),[[ve]])])),_:2},1024)])),_:2},1032,["label","disable"])])])))),128))])])),_:1})):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(T,null,{default:(0,t.k6)((()=>[(0,t.bF)(o,{label:(0,u.R1)(l)("Save changes"),type:"submit",icon:"save",class:"full-width",color:"dark",disable:q.value||S.value||D.value||!C.value.title},(0,t.eX)({_:2},[S.value?{name:"loading",fn:(0,t.k6)((()=>[(0,t.bF)(de,{class:"on-left"}),(0,t.eW)(" "+(0,n.v_)((0,u.R1)(l)("Saving...")),1)])),key:"0"}:void 0]),1032,["label","disable"])])),_:1})],32)])),_:1})])]),_.value?((0,t.uX)(),(0,t.Wv)(X,{key:0,files:C.value.files,index:y.value,onClose:a[5]||(a[5]=e=>_.value=!1)},null,8,["files","index"])):(0,t.Q3)("",!0),A.value||w.value?((0,t.uX)(),(0,t.Wv)(x,{key:1,onClose:W,onCancel:W,onOk:E},(0,t.eX)({_:2},[A.value?{name:"header",fn:(0,t.k6)((()=>[(0,t.Lk)("div",ae,(0,n.v_)((0,u.R1)(l)("Remove document file")),1),(0,t.Lk)("div",le,(0,n.v_)(C.value.files[y.value].name),1)])),key:"0"}:w.value?{name:"header",fn:(0,t.k6)((()=>[(0,t.Lk)("div",te,(0,n.v_)((0,u.R1)(l)("Delete document")),1),(0,t.Lk)("div",ne,(0,n.v_)((0,u.R1)(l)("Document title")+": "+C.value.title),1)])),key:"1"}:void 0,A.value?{name:"body",fn:(0,t.k6)((()=>[(0,t.Lk)("strong",null,(0,n.v_)((0,u.R1)(l)("Are you sure ? (You must save the document after deleting this file)")),1)])),key:"2"}:w.value?{name:"body",fn:(0,t.k6)((()=>[(0,t.Lk)("strong",null,(0,n.v_)((0,u.R1)(l)("This operation cannot be undone. Would you like to proceed ?")),1)])),key:"3"}:void 0]),1024)):(0,t.Q3)("",!0)])),_:1})}}};var ie=l(7716),se=l(9270),oe=l(1298),de=l(857),re=l(6031),ce=l(8301),ve=l(3999),me=l(124),pe=l(5173),fe=l(3796),be=l(3194);const ge=ue,ke=ge;w()(ue,"components",{QPage:ie.A,QSpace:L.A,QBtn:y.A,QCard:g.A,QCardSection:k.A,QInput:se.A,QUploader:oe.A,QMarkupTable:de.A,QBtnGroup:re.A,QBtnDropdown:ce.A,QList:ve.A,QItem:me.A,QItemSection:pe.A,QIcon:_.A,QItemLabel:fe.A,QSpinnerHourglass:be.A}),w()(ue,"directives",{ClosePopup:I.A})}}]);