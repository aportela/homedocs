"use strict";(globalThis["webpackChunkhomedocs"]=globalThis["webpackChunkhomedocs"]||[]).push([[160],{5320:(e,a,l)=>{l.d(a,{Z:()=>p});var t=l(9835),n=l(499),u=l(6970),s=l(1569),i=l(3276);const o={__name:"TagSelector",props:{modelValue:Array,disabled:Boolean,dense:Boolean},emits:["update:modelValue","error"],setup(e,{emit:a}){const l=e,{t:o}=(0,i.QT)(),r=(0,n.iH)(""),d=(0,n.iH)(!1),m=(0,n.iH)(!1),c=(0,n.iH)([]),v=(0,n.iH)([]),p=(0,n.iH)([]),f=(0,t.Fl)((()=>l.modelValue||[]));function w(e,a){a(""===e?()=>{v.value=c.value}:()=>{const a=e.toLowerCase();v.value=c.value.filter((e=>e.toLowerCase().indexOf(a)>-1))})}function g(){m.value=!1,d.value=!0,s.api.tag.search().then((e=>{c.value=e.data.tags,p.value=f.value,d.value=!1})).catch((e=>{m.value=!0,d.value=!1,a("error",e.response)}))}function b(e){r.value.hidePopup()}function h(e){p.value.splice(e,1)}return(0,t.YP)(f,(e=>{p.value=e||[]})),(0,t.YP)(p,(e=>{a("update:modelValue",e||[])})),g(),(a,l)=>{const s=(0,t.up)("q-chip"),i=(0,t.up)("q-select");return(0,t.wg)(),(0,t.j4)(i,{ref_key:"selectRef",ref:r,label:(0,n.SU)(o)("Tags"),modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=e=>p.value=e),dense:e.dense,outlined:"","use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"",options:v.value,"input-debounce":"0","new-value-mode":"add-unique",clearable:"",disable:e.disabled||d.value||m.value,loading:d.value,error:m.value,errorMessage:(0,n.SU)(o)("Error loading available tags"),onFilter:w,onAdd:b},{selected:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(p.value,((e,a)=>((0,t.wg)(),(0,t.j4)(s,{removable:"",key:e,onRemove:e=>h(a),color:"dark","text-color":"white",icon:"label_important"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e),1)])),_:2},1032,["onRemove"])))),128))])),_:1},8,["label","modelValue","dense","options","disable","loading","error","errorMessage"])}}};var r=l(6997),d=l(7691),m=l(9984),c=l.n(m);const v=o,p=v;c()(o,"components",{QSelect:r.Z,QChip:d.Z})},8160:(e,a,l)=>{l.r(a),l.d(a,{default:()=>pe});l(9665);var t=l(9835),n=l(6970),u=l(499),s=l(1957),i=l(8339),o=l(796),r=l(321),d=l(4170),m=l(9302),c=l(3276),v=l(1569),p=l(5320);const f={__name:"ConfirmationModal",emits:["close","ok"],setup(e,{emit:a}){const{t:l}=(0,c.QT)(),i=(0,u.iH)(!0);return(e,o)=>{const r=(0,t.up)("q-card-section"),d=(0,t.up)("q-icon"),m=(0,t.up)("q-btn"),c=(0,t.up)("q-card-actions"),v=(0,t.up)("q-card"),p=(0,t.up)("q-dialog"),f=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(p,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=e=>i.value=e),onHide:o[2]||(o[2]=e=>a("close"))},{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"bg-grey-8 text-white q-p-none"},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"header")])),_:3}),(0,t.Wm)(r,{class:"q-p-none"},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"body")])),_:3}),(0,t.Wm)(c,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{outline:"",class:"bg-grey-6 text-white"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{left:"",name:"close"}),(0,t.Uk)((0,n.zw)((0,u.SU)(l)("Cancel")),1)])),_:1})),[[f]]),(0,t.Wm)(m,{outline:"",onClick:o[0]||(o[0]=(0,s.iM)((e=>a("ok")),["stop"])),class:"bg-dark text-white"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{left:"",name:"done"}),(0,t.Uk)((0,n.zw)((0,u.SU)(l)("Ok")),1)])),_:1})])),_:1})])),_:3})])),_:3},8,["modelValue"])}}};var w=l(2074),g=l(4458),b=l(3190),h=l(1821),k=l(8879),y=l(2857),_=l(2146),S=l(9984),x=l.n(S);const q=f,W=q;x()(f,"components",{QDialog:w.Z,QCard:g.Z,QCardSection:b.Z,QCardActions:h.Z,QBtn:k.Z,QIcon:y.Z}),x()(f,"directives",{ClosePopup:_.Z});const Z={class:"text-h6"},D={key:0,class:"flex flex-center"},U={key:1},z={controls:"",class:"q-mt-md",style:{width:"100%"}},P=["src"],Q={key:2},Y={key:3,class:"text-subtitle1 text-center"},H={__name:"FilePreviewModal",props:{files:Array,index:Number},emits:["close"],setup(e,{emit:a}){const l=e,{t:s}=(0,c.QT)(),i=(0,u.iH)(l.index+1||1),o=(0,u.iH)(l.files?l.files.length:0);i.value>o.value&&(i.value=1);const r=(0,t.Fl)((()=>l.files&&o.value>0?l.files[i.value-1]:{id:null,name:null,humanSize:0})),d=(0,u.iH)(!0),m=(0,u.iH)(!1);function v(e){return e.match(/.(jpg|jpeg|png|gif)$/i)}function p(e){return e.match(/.(mp3)$/i)}return(l,c)=>{const f=(0,t.up)("q-space"),w=(0,t.up)("q-btn"),g=(0,t.up)("q-card-section"),b=(0,t.up)("q-banner"),h=(0,t.up)("q-pagination"),k=(0,t.up)("q-img"),y=(0,t.up)("q-icon"),_=(0,t.up)("q-card-actions"),S=(0,t.up)("q-card"),x=(0,t.up)("q-dialog"),q=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(x,{modelValue:d.value,"onUpdate:modelValue":c[3]||(c[3]=e=>d.value=e),onHide:c[4]||(c[4]=e=>a("close"))},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{style:{width:"700px","max-width":"80vw"}},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{class:"row items-center bg-grey-8 text-white q-p-none"},{default:(0,t.w5)((()=>[(0,t._)("div",Z,(0,n.zw)((0,u.SU)(s)("File preview")),1),(0,t.Wm)(f),(0,t.wy)((0,t.Wm)(w,{icon:"close",flat:"",round:"",dense:""},null,512),[[q]])])),_:1}),(0,t.Wm)(g,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{"inline-actions":"",class:"text-center"},{default:(0,t.w5)((()=>[(0,t._)("strong",null,(0,n.zw)(r.value.name)+" ("+(0,n.zw)(r.value.humanSize)+")",1)])),_:1}),o.value>1?((0,t.wg)(),(0,t.iD)("div",D,[e.files.length>0?((0,t.wg)(),(0,t.j4)(h,{key:0,modelValue:i.value,"onUpdate:modelValue":[c[0]||(c[0]=e=>i.value=e),c[1]||(c[1]=e=>m.value=!1)],max:o.value,color:"dark","max-pages":5,"boundary-numbers":"","direction-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward",gutter:"md"},null,8,["modelValue","max"])):(0,t.kq)("",!0)])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(g,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t._)("div",null,[v(r.value.name)?((0,t.wg)(),(0,t.j4)(k,{key:0,src:r.value.url,loading:"lazy","spinner-color":"white",onError:c[2]||(c[2]=e=>m.value=!0)},null,8,["src"])):p(r.value.name)?((0,t.wg)(),(0,t.iD)("div",U,[(0,t._)("audio",z,[(0,t._)("source",{src:r.value.url,type:"audio/mpeg"},null,8,P),(0,t.Uk)(" "+(0,n.zw)((0,u.SU)(s)("Your browser does not support the audio element")),1)])])):((0,t.wg)(),(0,t.iD)("div",Q,[(0,t.Wm)(b,{"inline-actions":"",class:"text-white bg-grey"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{name:"error",size:"sm"}),(0,t.Uk)(" "+(0,n.zw)((0,u.SU)(s)("Preview not available")),1)])),_:1})])),m.value?((0,t.wg)(),(0,t.iD)("div",Y,[(0,t.Wm)(b,{"inline-actions":"",class:"text-white bg-red"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{name:"error",size:"sm"}),(0,t.Uk)(" "+(0,n.zw)((0,u.SU)(s)("Error loading preview")),1)])),_:1})])):(0,t.kq)("",!0)]),(0,t.Wm)(_,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{outline:"",href:r.value.url,label:(0,u.SU)(s)("Download"),icon:"download",disable:m.value,class:"bg-grey-6 text-white"},null,8,["href","label","disable"]),(0,t.wy)((0,t.Wm)(w,{outline:"",label:(0,u.SU)(s)("Close"),icon:"close",class:"bg-dark text-white"},null,8,["label"]),[[q]])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var C=l(136),T=l(7128),V=l(996),I=l(335);const M=H,O=M;x()(H,"components",{QDialog:w.Z,QCard:g.Z,QCardSection:b.Z,QSpace:C.Z,QBtn:k.Z,QBanner:T.Z,QPagination:V.Z,QImg:I.Z,QIcon:y.Z,QCardActions:h.Z}),x()(H,"directives",{ClosePopup:_.Z});const j={class:"q-pa-md"},A={class:"row items-center q-pb-md"},E={key:0,class:"q-mt-sm q-mb-sm"},N={key:1,class:"q-mt-sm q-mb-sm"},B={class:"q-gutter-y-md"},R=["onSubmit"],$=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{class:"text-left"},"Created on"),(0,t._)("th",{class:"text-left"},"Name"),(0,t._)("th",{class:"text-right"},"Size"),(0,t._)("th",{class:"text-center"},"Actions")])],-1),F={class:"text-left"},L={class:"text-left"},K={class:"text-right"},G={class:"text-center"},J={class:"text-h6"},X={class:"text-subtitle2"},ee=2097152,ae={__name:"DocumentPage",setup(e){const a=(0,m.Z)(),{t:l}=(0,c.QT)(),f=(0,u.iH)(null),w=(0,u.iH)(null),g=(0,u.iH)(!1),b=(0,u.iH)(!1),h=(0,u.iH)(!1),k=(0,u.iH)(null),y=(0,u.iH)(!1),_=(0,u.iH)(!1),S=(0,u.iH)(!1),x=(0,u.iH)(!1),q=(0,u.iH)({id:null,title:null,description:null,created:null,createdOnTimestamp:null,createdBy:null,files:[],tags:[]});function Z(){_.value=!0,v.api.document.get(q.value.id).then((e=>{q.value=e.data.data,q.value.createdOn=d.ZP.formatDate(1e3*q.value.createdOnTimestamp,"YYYY-MM-DD HH:mm:ss"),q.value.date=d.ZP.formatDate(1e3*q.value.createdOnTimestamp,"YYYY/MM/DD"),q.value.files.map((e=>(e.isNew=!1,e.uploadedOn=d.ZP.formatDate(e.uploadedOnTimestamp,"YYYY-MM-DD HH:mm:ss"),e.humanSize=r.ZP.humanStorageSize(e.size),e.url="api2/file/"+e.id,e))),_.value=!1,k.value&&(0,t.Y3)((()=>k.value.focus()))})).catch((e=>{switch(_.value=!1,e.response.status){case 401:this.$router.push({name:"signIn"});break;default:a.notify({type:"negative",message:l("API Error: error loading document"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}function D(){_.value=!0,y.value?(q.value.id||(q.value.id=(0,o.Z)()),v.api.document.add(q.value).then((e=>{_.value=!1,(0,t.Y3)((()=>{f.value.reset(),k.value.focus()})),Q.push({name:"document",params:{id:q.value.id}})})).catch((e=>{switch(q.value.id=null,_.value=!1,e.response.status){case 400:e.response.data.invalidOrMissingParams.find((function(e){return"title"===e}))&&(a.notify({type:"negative",message:l("API Error: missing document title param")}),(0,t.Y3)((()=>k.value.focus())));break;case 401:this.$router.push({name:"signIn"});break;default:a.notify({type:"negative",message:l("API Error: error adding document"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))):v.api.document.update(q.value).then((e=>{q.value=e.data.data,q.value.createdOn=d.ZP.formatDate(1e3*q.value.createdOnTimestamp,"YYYY-MM-DD HH:mm:ss"),q.value.date=d.ZP.formatDate(1e3*q.value.createdOnTimestamp,"YYYY/MM/DD"),q.value.files.map((e=>(e.isNew=!1,e.url="api2/file/"+e.id,e.uploadedOn=d.ZP.formatDate(e.uploadedOnTimestamp,"YYYY-MM-DD HH:mm:ss"),e.humanSize=r.ZP.humanStorageSize(e.size),e))),_.value=!1,(0,t.Y3)((()=>{f.value.reset(),k.value.focus()}))})).catch((e=>{switch(_.value=!1,e.response.status){case 400:e.response.data.invalidOrMissingParams.find((function(e){return"title"===e}))&&(a.notify({type:"negative",message:l("API Error: missing document title param")}),(0,t.Y3)((()=>k.value.focus())));break;case 401:this.$router.push({name:"signIn"});break;default:a.notify({type:"negative",message:l("API Error: error updating document"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}function U(e){return e.match(/.(jpg|jpeg|png|gif|mp3)$/i)}function z(e){w.value=e,g.value=!0}const P=(0,i.yj)(),Q=(0,i.tv)();function Y(e,a){w.value=a,b.value=!0}function H(){b.value=!1,h.value=!1}function C(){b.value?T():h.value&&te()}function T(){w.value>-1&&(q.value.files[w.value].isNew?(_.value=!0,v.api.document.removeFile(q.value.files[w.value].id).then((e=>{q.value.files.splice(w.value,1),w.value=null,b.value=!1,_.value=!1})).catch((e=>{_.value=!1,a.notify({type:"negative",message:l("API Error: error removing file"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})})}))):(q.value.files.splice(w.value,1),w.value=null,b.value=!1))}function V(e){q.value.files.push({id:JSON.parse(e.xhr.response).data.id,uploadedOn:d.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),name:e.files[0].name,size:e.files[0].size,hash:null,humanSize:r.ZP.humanStorageSize(e.files[0].size),isNew:!0})}function I(e){"max-file-size"==e[0].failedPropValidation?a.notify({type:"negative",message:"Can not upload file "+e[0].file.name+" (max upload filesize: "+r.ZP.humanStorageSize(ee)+", current file size: "+r.ZP.humanStorageSize(e[0].file.size)+")"}):a.notify({type:"negative",message:l("Can not upload file",{filename:e[0].file.name})})}function M(e){a.notify({type:"negative",message:"Can not upload file "+e.files[0].name+", API error: "+e.xhr.status+" - "+e.xhr.statusText})}function ae(e){x.value=!0}function le(e){x.value=!1}function te(){_.value=!0,v.api.document.remove(q.value.id).then((e=>{_.value=!1,a.notify({type:"positive",message:l("Document has been removed")}),Q.push({name:"index"})})).catch((e=>{switch(h.value=!1,_.value=!1,e.response.status){case 401:this.$router.push({name:"signIn"});break;case 403:a.notify({type:"negative",message:l("Access denied")});break;case 404:a.notify({type:"negative",message:l("Document not found")});break;default:a.notify({type:"negative",message:l("API Error: error deleting document"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}return Q.beforeEach((async(e,a)=>{"newDocument"==e.name?(q.value={id:null,title:null,description:null,created:null,createdOnTimestamp:null,date:null,createdBy:null,files:[],tags:[]},y.value=!0):("newDocument"==a.name&&"document"==e.name&&e.params.id||"newDocument"!=a.name&&"document"==e.name&&e.params.id)&&(y.value=!1,q.value.id=e.params.id,Z())})),q.value.id=P.params.id||null,q.value.id?(y.value=!1,Z()):y.value=!0,(e,a)=>{const i=(0,t.up)("q-space"),o=(0,t.up)("q-btn"),r=(0,t.up)("q-input"),d=(0,t.up)("q-uploader"),m=(0,t.up)("q-btn-group"),c=(0,t.up)("q-icon"),v=(0,t.up)("q-item-section"),Z=(0,t.up)("q-item-label"),P=(0,t.up)("q-item"),Q=(0,t.up)("q-list"),T=(0,t.up)("q-btn-dropdown"),te=(0,t.up)("q-markup-table"),ne=(0,t.up)("q-card-section"),ue=(0,t.up)("q-spinner-hourglass"),se=(0,t.up)("q-card"),ie=(0,t.up)("q-page"),oe=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(ie,{class:"bg-grey-2"},{default:(0,t.w5)((()=>[(0,t._)("div",j,[(0,t._)("div",A,[q.value.id?((0,t.wg)(),(0,t.iD)("h3",N,(0,n.zw)((0,u.SU)(l)("Document")),1)):((0,t.wg)(),(0,t.iD)("h3",E,(0,n.zw)((0,u.SU)(l)("New document")),1)),(0,t.Wm)(i),(0,t.Wm)(o,{icon:"save",flat:"",round:"",title:(0,u.SU)(l)("Save document"),onClick:D,disable:_.value||S.value||x.value||!q.value.title},null,8,["title","disable"]),y.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(o,{key:2,icon:"delete",flat:"",round:"",title:(0,u.SU)(l)("Remove document"),onClick:a[0]||(a[0]=e=>h.value=!0)},null,8,["title"]))]),(0,t._)("div",B,[(0,t.Wm)(se,null,{default:(0,t.w5)((()=>[(0,t._)("form",{onSubmit:(0,s.iM)(D,["prevent","stop"]),autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"},[(0,t.Wm)(ne,null,{default:(0,t.w5)((()=>[q.value.id?((0,t.wg)(),(0,t.j4)(r,{key:0,class:"q-mb-md",outlined:"",mask:"date",modelValue:q.value.date,"onUpdate:modelValue":a[1]||(a[1]=e=>q.value.date=e),label:(0,u.SU)(l)("Document date"),disable:!0},null,8,["modelValue","label"])):(0,t.kq)("",!0),(0,t.Wm)(r,{class:"q-mb-md",ref_key:"titleRef",ref:k,maxlength:"128",outlined:"",modelValue:q.value.title,"onUpdate:modelValue":a[2]||(a[2]=e=>q.value.title=e),type:"text",name:"title",label:(0,u.SU)(l)("Document title"),disable:_.value||S.value,autofocus:!0},null,8,["modelValue","label","disable"]),(0,t.Wm)(r,{class:"q-mb-md",outlined:"",modelValue:q.value.description,"onUpdate:modelValue":a[3]||(a[3]=e=>q.value.description=e),type:"textarea",maxlength:"4096",autogrow:"",name:"description",label:(0,u.SU)(l)("Document description"),disable:_.value||S.value,clearble:""},null,8,["modelValue","label","disable"]),(0,t.Wm)(p.Z,{modelValue:q.value.tags,"onUpdate:modelValue":a[4]||(a[4]=e=>q.value.tags=e),disabled:_.value||S.value},null,8,["modelValue","disabled"]),(0,t.Wm)(d,{ref_key:"uploaderRef",ref:f,class:"q-mb-md",label:(0,u.SU)(l)("Add new file (Drag & Drop supported)"),flat:"",bordered:"","auto-upload":"","hide-upload-btn":"",color:"dark","field-name":"file",url:"api2/file","max-file-size":ee,multiple:"",onUploaded:V,onRejected:I,onFailed:M,method:"post",style:{width:"100%"},disable:_.value||S.value,"no-thumbnails":"",onStart:ae,onFinish:le},null,8,["label","disable"]),q.value.files.length>0?((0,t.wg)(),(0,t.j4)(te,{key:1},{default:(0,t.w5)((()=>[$,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(q.value.files,((e,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:e.id},[(0,t._)("td",F,(0,n.zw)(e.uploadedOn),1),(0,t._)("td",L,(0,n.zw)(e.name),1),(0,t._)("td",K,(0,n.zw)(e.humanSize),1),(0,t._)("td",G,[(0,t.Wm)(m,{spread:"",class:"desktop-only",disable:_.value},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{label:(0,u.SU)(l)("Open/Preview"),icon:"preview",onClick:(0,s.iM)((e=>z(a)),["prevent"]),disable:_.value||!U(e.name)||e.isNew},null,8,["label","onClick","disable"]),(0,t.Wm)(o,{label:(0,u.SU)(l)("Download"),icon:"download",href:e.url,disable:_.value||e.isNew},null,8,["label","href","disable"]),(0,t.Wm)(o,{label:(0,u.SU)(l)("Remove"),icon:"delete",disable:_.value,onClick:(0,s.iM)((l=>Y(e,a)),["prevent"])},null,8,["label","disable","onClick"])])),_:2},1032,["disable"]),(0,t.Wm)(T,{label:"Operations",class:"mobile-only",disable:_.value},{default:(0,t.w5)((()=>[(0,t.Wm)(Q,null,{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(P,{clickable:"",onClick:(0,s.iM)((e=>z(a)),["prevent"]),disable:_.value||!U(e.name)||e.isNew},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"preview"})])),_:1}),(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)((0,u.SU)(l)("Open/Preview")),1)])),_:1})])),_:1})])),_:2},1032,["onClick","disable"])),[[oe]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(P,{clickable:"",href:e.url,disable:_.value||e.isNew},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"download"})])),_:1}),(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)((0,u.SU)(l)("Download")),1)])),_:1})])),_:1})])),_:2},1032,["href","disable"])),[[oe]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(P,{clickable:"",onClick:(0,s.iM)((l=>Y(e,a)),["prevent"]),disable:_.value},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"delete"})])),_:1}),(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)((0,u.SU)(l)("Remove")),1)])),_:1})])),_:1})])),_:2},1032,["onClick","disable"])),[[oe]])])),_:2},1024)])),_:2},1032,["disable"])])])))),128))])])),_:1})):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(ne,null,{default:(0,t.w5)((()=>[(0,t.Wm)(o,{label:(0,u.SU)(l)("Save changes"),type:"submit",icon:"save",class:"full-width",color:"dark",disable:_.value||S.value||x.value||!q.value.title},(0,t.Nv)({_:2},[S.value?{name:"loading",fn:(0,t.w5)((()=>[(0,t.Wm)(ue,{class:"on-left"}),(0,t.Uk)(" "+(0,n.zw)((0,u.SU)(l)("Saving...")),1)])),key:"0"}:void 0]),1032,["label","disable"])])),_:1})],40,R)])),_:1})])]),g.value?((0,t.wg)(),(0,t.j4)(O,{key:0,files:q.value.files,index:w.value,onClose:a[5]||(a[5]=e=>g.value=!1)},null,8,["files","index"])):(0,t.kq)("",!0),b.value||h.value?((0,t.wg)(),(0,t.j4)(W,{key:1,onClose:H,onOk:C},(0,t.Nv)({_:2},[b.value?{name:"header",fn:(0,t.w5)((()=>[(0,t._)("div",J,(0,n.zw)((0,u.SU)(l)("Remove document file")),1),(0,t._)("div",X,(0,n.zw)(q.value.files[w.value].name),1)])),key:"0"}:h.value?{name:"header",fn:(0,t.w5)((()=>[(0,t._)("div",{class:"text-h6"},(0,n.zw)((0,u.SU)(l)("Delete document")),1),(0,t._)("div",{class:"text-subtitle2"},(0,n.zw)((0,u.SU)(l)("Document title")+": "+q.value.title),1)])),key:"1"}:void 0,b.value?{name:"body",fn:(0,t.w5)((()=>[(0,t._)("strong",null,(0,n.zw)((0,u.SU)(l)("Are you sure ? (You must save the document after deleting this file)")),1)])),key:"2"}:h.value?{name:"body",fn:(0,t.w5)((()=>[(0,t._)("strong",null,(0,n.zw)((0,u.SU)(l)("This operation cannot be undone. Would you like to proceed ?")),1)])),key:"3"}:void 0]),1024)):(0,t.kq)("",!0)])),_:1})}}};var le=l(9885),te=l(6611),ne=l(4343),ue=l(6933),se=l(7236),ie=l(2045),oe=l(3246),re=l(490),de=l(1233),me=l(3115),ce=l(3358);const ve=ae,pe=ve;x()(ae,"components",{QPage:le.Z,QSpace:C.Z,QBtn:k.Z,QCard:g.Z,QCardSection:b.Z,QInput:te.Z,QUploader:ne.Z,QMarkupTable:ue.Z,QBtnGroup:se.Z,QBtnDropdown:ie.Z,QList:oe.Z,QItem:re.Z,QItemSection:de.Z,QIcon:y.Z,QItemLabel:me.Z,QSpinnerHourglass:ce.Z}),x()(ae,"directives",{ClosePopup:_.Z})}}]);