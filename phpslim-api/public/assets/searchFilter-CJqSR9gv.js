import{d as e}from"./bus-DAajsxXE.js";const D=(i,t)=>i.replace(new RegExp(t,"gi"),a=>`<strong>${a}</strong>`);class y{id;createdAt;updatedAt;title;description;tags;attachmentCount;noteCount;matchedOnFragment;constructor(t,a,s,r,d,n,c,f,u,l,m){this.id=a,this.createdAt=s,this.updatedAt=r,this.title=d,this.description=n,this.tags=c,this.attachmentCount=f,this.noteCount=u,l.length>0&&m?this.matchedOnFragment=t("Fast search match fragment",{fragment:l[0].fragment?`${D(l[0].fragment,m)}`:"",matchedOn:t(l[0].matchedOn)}):this.matchedOnFragment=null}}const p=[{labelKey:"Any date",value:0},{labelKey:"Today",value:1},{labelKey:"Yesterday",value:2},{labelKey:"Last 7 days",value:3},{labelKey:"Last 15 days",value:4},{labelKey:"Last 31 days",value:5},{labelKey:"Last 365 days",value:6},{labelKey:"Fixed date",value:7},{labelKey:"From date",value:8},{labelKey:"To date",value:9},{labelKey:"Between dates",value:10}],x=p[0].value,o="YYYY/MM/DD";class h{currentType;formattedDate;timestamps;state;skipClearOnRecalc;constructor(){this.currentType=x,this.formattedDate={fixed:null,from:null,to:null},this.timestamps={from:null,to:null},this.state={hasFrom:!1,hasTo:!1,hasFixed:!1,hasValue:!1,denyChanges:!1},this.skipClearOnRecalc={from:!1,to:!1,fixed:!1}}getFormattedDate=(t=0)=>e.formatDate(e.addToDate(Date.now(),{days:t}),o);onRecalcDates=()=>{switch(this.skipClearOnRecalc.from||(this.formattedDate.from=null),this.skipClearOnRecalc.to||(this.formattedDate.to=null),this.skipClearOnRecalc.fixed||(this.formattedDate.fixed=null),this.skipClearOnRecalc.from=!1,this.skipClearOnRecalc.to=!1,this.skipClearOnRecalc.fixed=!1,this.timestamps.from=null,this.timestamps.to=null,this.currentType){case 0:this.formattedDate.from=null,this.formattedDate.to=null,this.formattedDate.fixed=null;break;case 1:this.formattedDate.fixed=this.getFormattedDate();break;case 2:this.formattedDate.fixed=this.getFormattedDate(-1);break;case 3:this.formattedDate.from=this.getFormattedDate(-7),this.formattedDate.to=this.getFormattedDate();break;case 4:this.formattedDate.from=this.getFormattedDate(-15),this.formattedDate.to=this.getFormattedDate();break;case 5:this.formattedDate.from=this.getFormattedDate(-31),this.formattedDate.to=this.getFormattedDate();break;case 6:this.formattedDate.from=this.getFormattedDate(-365),this.formattedDate.to=this.getFormattedDate();break}};onRecalcTimestamps=()=>{this.formattedDate.fixed?(this.timestamps.from=Number(e.formatDate(e.adjustDate(e.extractDate(this.formattedDate.fixed,o),{hour:0,minute:0,second:0,millisecond:0}),"x")),this.timestamps.to=Number(e.formatDate(e.adjustDate(e.extractDate(this.formattedDate.fixed,o),{hour:23,minute:59,second:59,millisecond:999}),"x"))):(this.formattedDate.from&&(this.timestamps.from=Number(e.formatDate(e.adjustDate(e.extractDate(this.formattedDate.from,"YYYY/MM/DD"),{hour:0,minute:0,second:0,millisecond:0}),"x"))),this.formattedDate.to&&(this.timestamps.to=Number(e.formatDate(e.adjustDate(e.extractDate(this.formattedDate.to,"YYYY/MM/DD"),{hour:23,minute:59,second:59,millisecond:999}),"x"))))};hasFrom(){return this.state.hasFrom}hasTo(){return this.state.hasTo}hasFixed(){return this.state.hasFixed}recalcDates(){this.onRecalcDates(),this.onRecalcTimestamps()}recalcTimestamps(){this.onRecalcTimestamps()}setType(t){this.currentType=t,this.state.hasFrom=[3,4,5,6,8,10].includes(t),this.state.hasTo=[3,4,5,6,9,10].includes(t),this.state.hasFixed=[1,2,7].includes(t),this.state.hasValue=this.state.hasFrom||this.state.hasTo||this.state.hasFixed,this.state.denyChanges=[1,2,3,4,5,6].includes(t),this.onRecalcDates(),this.onRecalcTimestamps()}}class F{title;description;notesBody;attachmentsFilename;constructor(t,a,s,r){this.title=t||null,this.description=a||null,this.notesBody=s||null,this.attachmentsFilename=r||null}}class g{createdAt;lastUpdateAt;updatedAt;constructor(t,a,s){this.createdAt=t||new h,this.lastUpdateAt=a||new h,this.updatedAt=s||new h}}class C{text;tags;dates;constructor(t,a,s){this.text=t||new F,this.tags=a||[],this.dates=s||new g}}export{F as S,g as a,y as b,C as c,p as s};
