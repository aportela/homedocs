import{b as r}from"./index-3fevySbJ.js";import{u as n}from"./axios-BbAVdsOQ.js";import{a as c}from"./api-I8w-eQER.js";import"./localStorage-DcFk6gN0.js";import"./index-BliOkcHh.js";const o=n(),u=r(async({router:a})=>{if(!o.hasAccessToken)try{const e=await c.auth.renewAccessToken();o.setAccessToken(e.data.accessToken)}catch(e){console.error(e)}a.beforeEach((e,i,s)=>{if(!e.matched.length){s({name:"notFound"});return}o.hasAccessToken?e.name==="login"||e.name==="register"?s({name:"index"}):s():e.name==="login"||e.name==="register"?s():s({name:"login"})})});export{u as default};
