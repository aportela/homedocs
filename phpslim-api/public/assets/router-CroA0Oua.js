import{d as n}from"./index-B4QQtCX7.js";import{u as a}from"./session-BvJG7K2f.js";import{a as i}from"./api-CoAF7EnE.js";import{A as c}from"./index-CG2WSiiR.js";const o=a(),p=n(async({router:r})=>{if(!o.hasAccessToken)try{const e=await i.auth.renewAccessToken();o.setAccessToken(e.data.accessToken)}catch(e){e instanceof c?e.status!==401&&console.error("Invalid error http response code",e.status):console.error("Invalid error response",e)}r.beforeEach((e,t,s)=>{if(!e.matched.length){s({name:"notFound"});return}o.hasAccessToken?e.name==="login"||e.name==="register"?s({name:"index"}):s():e.name==="login"||e.name==="register"?s():s({name:"login"})})});export{p as default};
