import{Q as ja,D as ga,a as pa}from"./dateTime-DKBR-zRU.js";import{u as at,b as tt,Q as K}from"./use-timeout-DkasoO3K.js";import{u as lt,b as nt,a as ot,Q as ce}from"./QInput-B3L3nXvc.js";import{Q as rt}from"./QSpinnerHourglass-CytAo_Jq.js";import{Q as H,n as Ma,g as st}from"./QBtn-DDXB9RTL.js";import{a as Ta,C as Pe,Q as Fa}from"./ClosePopup-CFDHLFmC.js";import{Q as ya}from"./QPagination-C7wUspy7.js";import{Q as je}from"./QItemLabel-h-LbIAeP.js";import{e as it,f as ut,g as dt,Q as Ra,c as Fe,d as ct,_ as ft}from"./QItem-DTkRWWSA.js";import{Q as ba}from"./QMarkupTable-dLO-rbtN.js";import{Q as mt}from"./QPage-D7l9ccLP.js";import{a8 as vt,j as d,x as Xe,z as Ze,l as F,B as se,y as v,a5 as we,v as Re,al as ht,ai as gt,a as ea,b as aa,R as ta,n as W,f as T,p as ie,h as f,w as b,ac as pt,g as i,S as be,o as R,O as yt,af as bt,e as le,ag as xt,T as Me,U as Te,q as te,t as E,k as _t,V as Dt,_ as wt,D as Ct,s as pe,a3 as xa,a2 as kt}from"./index-DMsogX6U.js";import{c as qt,S as Vt,a as St,s as At,b as Pt}from"./searchFilter-CJqSR9gv.js";import{S as Ge,P as jt}from"./pager-B5QX6AQA.js";import{t as Mt,p as fe,_ as Tt,j as Le,e as Ft,g as _a,i as Rt,a as Ne,o as Da,c as wa}from"./bus-DAajsxXE.js";import{a as It}from"./api-qyRpSTvW.js";import{f as Bt,h as Ot,d as Ca,a as Ht,_ as $t}from"./CustomErrorBanner.vue_vue_type_script_setup_true_lang-Djury_rv.js";import{I as Et}from"./InteractiveTagsFieldCustomSelect-CtJ8pG4L.js";import{_ as ka}from"./CustomExpansionWidget.vue_vue_type_script_setup_true_lang-B13ZiU8f.js";import{d as Ut,Q as Yt}from"./QSelect-B_fMtB_N.js";import{h as Ia,_ as Qt}from"./_plugin-vue_export-helper-Kd_RiLXS.js";import{_ as Ae}from"./ViewDocumentDetailsButton.vue_vue_type_script_setup_true_lang-B3WnA-t4.js";import"./dateUtils-ByXmAri9.js";import"./scroll-CzrrtnSf.js";import"./index-CG2WSiiR.js";import"./serverEnvironment-BTbd5MTw.js";import"./BrowseByTagButton.vue_vue_type_script_setup_true_lang-epdxlY6o.js";import"./QCardSection-B6sLn9nj.js";const qa=()=>new jt(1,32,0,0),Va=()=>{const a=new Vt(null,null,null,null),p=new St(null,null,null);return new qt(a,[],p)},Sa=()=>new Ge("lastUpdateTimestamp","Last update","DESC"),Lt=vt("advancedSearchData",{state:()=>({pager:qa(),filter:Va(),sort:Sa()}),getters:{currentPager:a=>a.pager,currentFilter:a=>a.filter,currentSort:a=>a.sort},actions:{reset(){this.pager=qa(),this.filter=Va(),this.sort=Sa()},setPager(a){this.pager=a},setFilter(a){this.filter=a},setSort(a){this.sort=a}}}),Nt=["gregorian","persian"],Aa={mask:{type:String},locale:Object,calendar:{type:String,validator:a=>Nt.includes(a),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},zt=["update:modelValue"];function oe(a){return a.year+"/"+fe(a.month)+"/"+fe(a.day)}function Wt(a,p){const g=d(()=>a.disable!==!0&&a.readonly!==!0),k=d(()=>g.value===!0?0:-1),_=d(()=>{const C=[];return a.color!==void 0&&C.push(`bg-${a.color}`),a.textColor!==void 0&&C.push(`text-${a.textColor}`),C.join(" ")});function j(){return a.locale!==void 0?{...p.lang.date,...a.locale}:p.lang.date}function w(C){const m=new Date,I=C===!0?null:0;if(a.calendar==="persian"){const B=Mt(m);return{year:B.jy,month:B.jm,day:B.jd}}return{year:m.getFullYear(),month:m.getMonth()+1,day:m.getDate(),hour:I,minute:I,second:I,millisecond:I}}return{editable:g,tabindex:k,headerClass:_,getLocale:j,getCurrentDate:w}}const ae=20,Jt=["Calendar","Years","Months"],Pa=a=>Jt.includes(a),ze=a=>/^-?[\d]+\/[0-1]\d$/.test(a),ye=" â€” ";function re(a){return a.year+"/"+fe(a.month)}const We=Xe({name:"QDate",props:{...Aa,...lt,...at,modelValue:{required:!0,validator:a=>typeof a=="string"||Array.isArray(a)===!0||Object(a)===a||a===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Aa.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:ze},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:ze},navigationMaxYearMonth:{type:String,validator:ze},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Pa}},emits:[...zt,"rangeStart","rangeEnd","navigation"],setup(a,{slots:p,emit:g}){const{proxy:k}=Ze(),{$q:_}=k,j=tt(a,_),{getCache:w}=Bt(),{tabindex:C,headerClass:m,getLocale:I,getCurrentDate:B}=Wt(a,_);let P;const y=nt(a),L=ot(y),Q=F(null),V=F(ua()),S=F(I()),ee=d(()=>ua()),G=d(()=>I()),O=d(()=>B()),n=F(da(V.value,S.value)),q=F(a.defaultView),o=d(()=>_.lang.rtl===!0?"right":"left"),ue=F(o.value),me=F(o.value),N=n.value.year,X=F(N-N%ae-(N<0?ae:0)),$=F(null),A=d(()=>{const e=a.landscape===!0?"landscape":"portrait";return`q-date q-date--${e} q-date--${e}-${a.minimal===!0?"minimal":"standard"}`+(j.value===!0?" q-date--dark q-dark":"")+(a.bordered===!0?" q-date--bordered":"")+(a.square===!0?" q-date--square no-border-radius":"")+(a.flat===!0?" q-date--flat no-shadow":"")+(a.disable===!0?" disabled":a.readonly===!0?" q-date--readonly":"")}),h=d(()=>a.color||"primary"),r=d(()=>a.textColor||"white"),Z=d(()=>a.emitImmediately===!0&&a.multiple!==!0&&a.range!==!0),Ce=d(()=>Array.isArray(a.modelValue)===!0?a.modelValue:a.modelValue!==null&&a.modelValue!==void 0?[a.modelValue]:[]),J=d(()=>Ce.value.filter(e=>typeof e=="string").map(e=>$e(e,V.value,S.value)).filter(e=>e.dateHash!==null&&e.day!==null&&e.month!==null&&e.year!==null)),ve=d(()=>{const e=t=>$e(t,V.value,S.value);return Ce.value.filter(t=>ht(t)===!0&&t.from!==void 0&&t.to!==void 0).map(t=>({from:e(t.from),to:e(t.to)})).filter(t=>t.from.dateHash!==null&&t.to.dateHash!==null&&t.from.dateHash<t.to.dateHash)}),ke=d(()=>a.calendar!=="persian"?e=>new Date(e.year,e.month-1,e.day):e=>{const t=_a(e.year,e.month,e.day);return new Date(t.gy,t.gm-1,t.gd)}),Ie=d(()=>a.calendar==="persian"?oe:(e,t,l)=>Ft(new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),t===void 0?V.value:t,l===void 0?S.value:l,e.year,e.timezoneOffset)),xe=d(()=>J.value.length+ve.value.reduce((e,t)=>e+1+Rt(ke.value(t.to),ke.value(t.from)),0)),la=d(()=>{if(a.title!==void 0&&a.title!==null&&a.title.length!==0)return a.title;if($.value!==null){const l=$.value.init,s=ke.value(l);return S.value.daysShort[s.getDay()]+", "+S.value.monthsShort[l.month-1]+" "+l.day+ye+"?"}if(xe.value===0)return ye;if(xe.value>1)return`${xe.value} ${S.value.pluralDay}`;const e=J.value[0],t=ke.value(e);return isNaN(t.valueOf())===!0?ye:S.value.headerTitle!==void 0?S.value.headerTitle(t,e):S.value.daysShort[t.getDay()]+", "+S.value.monthsShort[e.month-1]+" "+e.day}),Ba=d(()=>J.value.concat(ve.value.map(t=>t.from)).sort((t,l)=>t.year-l.year||t.month-l.month)[0]),Oa=d(()=>J.value.concat(ve.value.map(t=>t.to)).sort((t,l)=>l.year-t.year||l.month-t.month)[0]),na=d(()=>{if(a.subtitle!==void 0&&a.subtitle!==null&&a.subtitle.length!==0)return a.subtitle;if(xe.value===0)return ye;if(xe.value>1){const e=Ba.value,t=Oa.value,l=S.value.monthsShort;return l[e.month-1]+(e.year!==t.year?" "+e.year+ye+l[t.month-1]+" ":e.month!==t.month?ye+l[t.month-1]:"")+" "+t.year}return J.value[0].year}),qe=d(()=>{const e=[_.iconSet.datetime.arrowLeft,_.iconSet.datetime.arrowRight];return _.lang.rtl===!0?e.reverse():e}),oa=d(()=>a.firstDayOfWeek!==void 0?Number(a.firstDayOfWeek):S.value.firstDayOfWeek),Ha=d(()=>{const e=S.value.daysShort,t=oa.value;return t>0?e.slice(t,7).concat(e.slice(0,t)):e}),ne=d(()=>{const e=n.value;return a.calendar!=="persian"?new Date(e.year,e.month,0).getDate():Le(e.year,e.month)}),$a=d(()=>typeof a.eventColor=="function"?a.eventColor:()=>a.eventColor),U=d(()=>{if(a.navigationMinYearMonth===void 0)return null;const e=a.navigationMinYearMonth.split("/");return{year:parseInt(e[0],10),month:parseInt(e[1],10)}}),Y=d(()=>{if(a.navigationMaxYearMonth===void 0)return null;const e=a.navigationMaxYearMonth.split("/");return{year:parseInt(e[0],10),month:parseInt(e[1],10)}}),Be=d(()=>{const e={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return U.value!==null&&U.value.year>=n.value.year&&(e.year.prev=!1,U.value.year===n.value.year&&U.value.month>=n.value.month&&(e.month.prev=!1)),Y.value!==null&&Y.value.year<=n.value.year&&(e.year.next=!1,Y.value.year===n.value.year&&Y.value.month<=n.value.month&&(e.month.next=!1)),e}),Ve=d(()=>{const e={};return J.value.forEach(t=>{const l=re(t);e[l]===void 0&&(e[l]=[]),e[l].push(t.day)}),e}),ra=d(()=>{const e={};return ve.value.forEach(t=>{const l=re(t.from),s=re(t.to);if(e[l]===void 0&&(e[l]=[]),e[l].push({from:t.from.day,to:l===s?t.to.day:void 0,range:t}),l<s){let u;const{year:D,month:c}=t.from,x=c<12?{year:D,month:c+1}:{year:D+1,month:1};for(;(u=re(x))<=s;)e[u]===void 0&&(e[u]=[]),e[u].push({from:void 0,to:u===s?t.to.day:void 0,range:t}),x.month++,x.month>12&&(x.year++,x.month=1)}}),e}),_e=d(()=>{if($.value===null)return;const{init:e,initHash:t,final:l,finalHash:s}=$.value,[u,D]=t<=s?[e,l]:[l,e],c=re(u),x=re(D);if(c!==z.value&&x!==z.value)return;const M={};return c===z.value?(M.from=u.day,M.includeFrom=!0):M.from=1,x===z.value?(M.to=D.day,M.includeTo=!0):M.to=ne.value,M}),z=d(()=>re(n.value)),Ea=d(()=>{const e={};if(a.options===void 0){for(let l=1;l<=ne.value;l++)e[l]=!0;return e}const t=typeof a.options=="function"?a.options:l=>a.options.includes(l);for(let l=1;l<=ne.value;l++){const s=z.value+"/"+fe(l);e[l]=t(s)}return e}),Ua=d(()=>{const e={};if(a.events===void 0)for(let t=1;t<=ne.value;t++)e[t]=!1;else{const t=typeof a.events=="function"?a.events:l=>a.events.includes(l);for(let l=1;l<=ne.value;l++){const s=z.value+"/"+fe(l);e[l]=t(s)===!0&&$a.value(s)}}return e}),Ya=d(()=>{let e,t;const{year:l,month:s}=n.value;if(a.calendar!=="persian")e=new Date(l,s-1,1),t=new Date(l,s-1,0).getDate();else{const u=_a(l,s,1);e=new Date(u.gy,u.gm-1,u.gd);let D=s-1,c=l;D===0&&(D=12,c--),t=Le(c,D)}return{days:e.getDay()-oa.value-1,endDay:t}}),sa=d(()=>{const e=[],{days:t,endDay:l}=Ya.value,s=t<0?t+7:t;if(s<6)for(let c=l-s;c<=l;c++)e.push({i:c,fill:!0});const u=e.length;for(let c=1;c<=ne.value;c++){const x={i:c,event:Ua.value[c],classes:[]};Ea.value[c]===!0&&(x.in=!0,x.flat=!0),e.push(x)}if(Ve.value[z.value]!==void 0&&Ve.value[z.value].forEach(c=>{const x=u+c-1;Object.assign(e[x],{selected:!0,unelevated:!0,flat:!1,color:h.value,textColor:r.value})}),ra.value[z.value]!==void 0&&ra.value[z.value].forEach(c=>{if(c.from!==void 0){const x=u+c.from-1,M=u+(c.to||ne.value)-1;for(let De=x;De<=M;De++)Object.assign(e[De],{range:c.range,unelevated:!0,color:h.value,textColor:r.value});Object.assign(e[x],{rangeFrom:!0,flat:!1}),c.to!==void 0&&Object.assign(e[M],{rangeTo:!0,flat:!1})}else if(c.to!==void 0){const x=u+c.to-1;for(let M=u;M<=x;M++)Object.assign(e[M],{range:c.range,unelevated:!0,color:h.value,textColor:r.value});Object.assign(e[x],{flat:!1,rangeTo:!0})}else{const x=u+ne.value-1;for(let M=u;M<=x;M++)Object.assign(e[M],{range:c.range,unelevated:!0,color:h.value,textColor:r.value})}}),_e.value!==void 0){const c=u+_e.value.from-1,x=u+_e.value.to-1;for(let M=c;M<=x;M++)e[M].color=h.value,e[M].editRange=!0;_e.value.includeFrom===!0&&(e[c].editRangeFrom=!0),_e.value.includeTo===!0&&(e[x].editRangeTo=!0)}n.value.year===O.value.year&&n.value.month===O.value.month&&(e[u+O.value.day-1].today=!0);const D=e.length%7;if(D>0){const c=7-D;for(let x=1;x<=c;x++)e.push({i:x,fill:!0})}return e.forEach(c=>{let x="q-date__calendar-item ";c.fill===!0?x+="q-date__calendar-item--fill":(x+=`q-date__calendar-item--${c.in===!0?"in":"out"}`,c.range!==void 0&&(x+=` q-date__range${c.rangeTo===!0?"-to":c.rangeFrom===!0?"-from":""}`),c.editRange===!0&&(x+=` q-date__edit-range${c.editRangeFrom===!0?"-from":""}${c.editRangeTo===!0?"-to":""}`),(c.range!==void 0||c.editRange===!0)&&(x+=` text-${c.color}`)),c.classes=x}),e}),Qa=d(()=>a.disable===!0?{"aria-disabled":"true"}:{});se(()=>a.modelValue,e=>{if(P===JSON.stringify(e))P=0;else{const t=da(V.value,S.value);he(t.year,t.month,t)}}),se(q,()=>{Q.value!==null&&k.$el.contains(document.activeElement)===!0&&Q.value.focus()}),se(()=>n.value.year+"|"+n.value.month,()=>{g("navigation",{year:n.value.year,month:n.value.month})}),se(ee,e=>{ha(e,S.value,"mask"),V.value=e}),se(G,e=>{ha(V.value,e,"locale"),S.value=e});function Oe(e){P=JSON.stringify(e)}function ia(){const{year:e,month:t,day:l}=O.value,s={...n.value,year:e,month:t,day:l},u=Ve.value[re(s)];(u===void 0||u.includes(s.day)===!1)&&Ue(s),He(s.year,s.month)}function La(e){Pa(e)===!0&&(q.value=e)}function Na(e,t){["month","year"].includes(e)&&(e==="month"?fa:Ee)(t===!0?-1:1)}function He(e,t){q.value="Calendar",he(e,t)}function za(e,t){if(a.range===!1||!e){$.value=null;return}const l=Object.assign({...n.value},e),s=t!==void 0?Object.assign({...n.value},t):l;$.value={init:l,initHash:oe(l),final:s,finalHash:oe(s)},He(l.year,l.month)}function ua(){return a.calendar==="persian"?"YYYY/MM/DD":a.mask}function $e(e,t,l){return Tt(e,t,l,a.calendar,{hour:0,minute:0,second:0,millisecond:0})}function da(e,t){const l=Array.isArray(a.modelValue)===!0?a.modelValue:a.modelValue?[a.modelValue]:[];if(l.length===0)return ca();const s=l[l.length-1],u=$e(s.from!==void 0?s.from:s,e,t);return u.dateHash===null?ca():u}function ca(){let e,t;if(a.defaultYearMonth!==void 0){const l=a.defaultYearMonth.split("/");e=parseInt(l[0],10),t=parseInt(l[1],10)}else{const l=O.value!==void 0?O.value:B();e=l.year,t=l.month}return{year:e,month:t,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:e+"/"+fe(t)+"/01"}}function fa(e){let t=n.value.year,l=Number(n.value.month)+e;l===13?(l=1,t++):l===0&&(l=12,t--),he(t,l),Z.value===!0&&Se("month")}function Ee(e){const t=Number(n.value.year)+e;he(t,n.value.month),Z.value===!0&&Se("year")}function Wa(e){he(e,n.value.month),q.value=a.defaultView==="Years"?"Months":"Calendar",Z.value===!0&&Se("year")}function Ja(e){he(n.value.year,e),q.value="Calendar",Z.value===!0&&Se("month")}function Ka(e,t){(Ve.value[t]?.includes(e.day)===!0?Ye:Ue)(e)}function de(e){return{year:e.year,month:e.month,day:e.day}}function he(e,t,l){if(U.value!==null&&e<=U.value.year&&((t<U.value.month||e<U.value.year)&&(t=U.value.month),e=U.value.year),Y.value!==null&&e>=Y.value.year&&((t>Y.value.month||e>Y.value.year)&&(t=Y.value.month),e=Y.value.year),l!==void 0){const{hour:u,minute:D,second:c,millisecond:x,timezoneOffset:M,timeHash:De}=l;Object.assign(n.value,{hour:u,minute:D,second:c,millisecond:x,timezoneOffset:M,timeHash:De})}const s=e+"/"+fe(t)+"/01";s!==n.value.dateHash&&(ue.value=n.value.dateHash<s==(_.lang.rtl!==!0)?"left":"right",e!==n.value.year&&(me.value=ue.value),Re(()=>{X.value=e-e%ae-(e<0?ae:0),Object.assign(n.value,{year:e,month:t,day:1,dateHash:s})}))}function ma(e,t,l){const s=e!==null&&e.length===1&&a.multiple===!1?e[0]:e,{reason:u,details:D}=va(t,l);Oe(s),g("update:modelValue",s,u,D)}function Se(e){const t=J.value[0]!==void 0&&J.value[0].dateHash!==null?{...J.value[0]}:{...n.value};Re(()=>{t.year=n.value.year,t.month=n.value.month;const l=a.calendar!=="persian"?new Date(t.year,t.month,0).getDate():Le(t.year,t.month);t.day=Math.min(Math.max(1,t.day),l);const s=ge(t),{details:u}=va("",t);Oe(s),g("update:modelValue",s,e,u)})}function va(e,t){return t.from!==void 0?{reason:`${e}-range`,details:{...de(t.target),from:de(t.from),to:de(t.to)}}:{reason:`${e}-day`,details:de(t)}}function ge(e,t,l){return e.from!==void 0?{from:Ie.value(e.from,t,l),to:Ie.value(e.to,t,l)}:Ie.value(e,t,l)}function Ue(e){let t;if(a.multiple===!0)if(e.from!==void 0){const l=oe(e.from),s=oe(e.to),u=J.value.filter(c=>c.dateHash<l||c.dateHash>s),D=ve.value.filter(({from:c,to:x})=>x.dateHash<l||c.dateHash>s);t=u.concat(D).concat(e).map(c=>ge(c))}else{const l=Ce.value.slice();l.push(ge(e)),t=l}else t=ge(e);ma(t,"add",e)}function Ye(e){if(a.noUnset===!0)return;let t=null;if(a.multiple===!0&&Array.isArray(a.modelValue)===!0){const l=ge(e);e.from!==void 0?t=a.modelValue.filter(s=>s.from!==void 0?s.from!==l.from&&s.to!==l.to:!0):t=a.modelValue.filter(s=>s!==l),t.length===0&&(t=null)}ma(t,"remove",e)}function ha(e,t,l){const s=J.value.concat(ve.value).map(D=>ge(D,e,t)).filter(D=>D.from!==void 0?D.from.dateHash!==null&&D.to.dateHash!==null:D.dateHash!==null),u=(a.multiple===!0?s:s[0])||null;Oe(u),g("update:modelValue",u,l)}function Ga(){if(a.minimal!==!0)return v("div",{class:"q-date__header "+m.value},[v("div",{class:"relative-position"},[v(we,{name:"q-transition--fade"},()=>v("div",{key:"h-yr-"+na.value,class:"q-date__header-subtitle q-date__header-link "+(q.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:C.value,...w("vY",{onClick(){q.value="Years"},onKeyup(e){e.keyCode===13&&(q.value="Years")}})},[na.value]))]),v("div",{class:"q-date__header-title relative-position flex no-wrap"},[v("div",{class:"relative-position col"},[v(we,{name:"q-transition--fade"},()=>v("div",{key:"h-sub"+la.value,class:"q-date__header-title-label q-date__header-link "+(q.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:C.value,...w("vC",{onClick(){q.value="Calendar"},onKeyup(e){e.keyCode===13&&(q.value="Calendar")}})},[la.value]))]),a.todayBtn===!0?v(H,{class:"q-date__header-today self-start",icon:_.iconSet.datetime.today,"aria-label":_.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:C.value,onClick:ia}):null])])}function Qe({label:e,type:t,key:l,dir:s,goTo:u,boundaries:D,cls:c}){return[v("div",{class:"row items-center q-date__arrow"},[v(H,{round:!0,dense:!0,size:"sm",flat:!0,icon:qe.value[0],"aria-label":t==="Years"?_.lang.date.prevYear:_.lang.date.prevMonth,tabindex:C.value,disable:D.prev===!1,...w("go-#"+t,{onClick(){u(-1)}})})]),v("div",{class:"relative-position overflow-hidden flex flex-center"+c},[v(we,{name:"q-transition--jump-"+s},()=>v("div",{key:l},[v(H,{flat:!0,dense:!0,noCaps:!0,label:e,tabindex:C.value,...w("view#"+t,{onClick:()=>{q.value=t}})})]))]),v("div",{class:"row items-center q-date__arrow"},[v(H,{round:!0,dense:!0,size:"sm",flat:!0,icon:qe.value[1],"aria-label":t==="Years"?_.lang.date.nextYear:_.lang.date.nextMonth,tabindex:C.value,disable:D.next===!1,...w("go+#"+t,{onClick(){u(1)}})})])]}const Xa={Calendar:()=>[v("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[v("div",{class:"q-date__navigation row items-center no-wrap"},Qe({label:S.value.months[n.value.month-1],type:"Months",key:n.value.month,dir:ue.value,goTo:fa,boundaries:Be.value.month,cls:" col"}).concat(Qe({label:n.value.year,type:"Years",key:n.value.year,dir:me.value,goTo:Ee,boundaries:Be.value.year,cls:""}))),v("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Ha.value.map(e=>v("div",{class:"q-date__calendar-item"},[v("div",e)]))),v("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[v(we,{name:"q-transition--slide-"+ue.value},()=>v("div",{key:z.value,class:"q-date__calendar-days fit"},sa.value.map(e=>v("div",{class:e.classes},[e.in===!0?v(H,{class:e.today===!0?"q-date__today":"",dense:!0,flat:e.flat,unelevated:e.unelevated,color:e.color,textColor:e.textColor,label:e.i,tabindex:C.value,...w("day#"+e.i,{onClick:()=>{Za(e.i)},onMouseover:()=>{et(e.i)}})},e.event!==!1?()=>v("div",{class:"q-date__event bg-"+e.event}):null):v("div",""+e.i)]))))])])],Months(){const e=n.value.year===O.value.year,t=s=>U.value!==null&&n.value.year===U.value.year&&U.value.month>s||Y.value!==null&&n.value.year===Y.value.year&&Y.value.month<s,l=S.value.monthsShort.map((s,u)=>{const D=n.value.month===u+1;return v("div",{class:"q-date__months-item flex flex-center"},[v(H,{class:e===!0&&O.value.month===u+1?"q-date__today":null,flat:D!==!0,label:s,unelevated:D,color:D===!0?h.value:null,textColor:D===!0?r.value:null,tabindex:C.value,disable:t(u+1),...w("month#"+u,{onClick:()=>{Ja(u+1)}})})])});return a.yearsInMonthView===!0&&l.unshift(v("div",{class:"row no-wrap full-width"},[Qe({label:n.value.year,type:"Years",key:n.value.year,dir:me.value,goTo:Ee,boundaries:Be.value.year,cls:" col"})])),v("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},l)},Years(){const e=X.value,t=e+ae,l=[],s=u=>U.value!==null&&U.value.year>u||Y.value!==null&&Y.value.year<u;for(let u=e;u<=t;u++){const D=n.value.year===u;l.push(v("div",{class:"q-date__years-item flex flex-center"},[v(H,{key:"yr"+u,class:O.value.year===u?"q-date__today":null,flat:!D,label:u,dense:!0,unelevated:D,color:D===!0?h.value:null,textColor:D===!0?r.value:null,tabindex:C.value,disable:s(u),...w("yr#"+u,{onClick:()=>{Wa(u)}})})]))}return v("div",{class:"q-date__view q-date__years flex flex-center"},[v("div",{class:"col-auto"},[v(H,{round:!0,dense:!0,flat:!0,icon:qe.value[0],"aria-label":_.lang.date.prevRangeYears(ae),tabindex:C.value,disable:s(e),...w("y-",{onClick:()=>{X.value-=ae}})})]),v("div",{class:"q-date__years-content col self-stretch row items-center"},l),v("div",{class:"col-auto"},[v(H,{round:!0,dense:!0,flat:!0,icon:qe.value[1],"aria-label":_.lang.date.nextRangeYears(ae),tabindex:C.value,disable:s(t),...w("y+",{onClick:()=>{X.value+=ae}})})])])}};function Za(e){const t={...n.value,day:e};if(a.range===!1){Ka(t,z.value);return}if($.value===null){const l=sa.value.find(u=>u.fill!==!0&&u.i===e);if(a.noUnset!==!0&&l.range!==void 0){Ye({target:t,from:l.range.from,to:l.range.to});return}if(l.selected===!0){Ye(t);return}const s=oe(t);$.value={init:t,initHash:s,final:t,finalHash:s},g("rangeStart",de(t))}else{const l=$.value.initHash,s=oe(t),u=l<=s?{from:$.value.init,to:t}:{from:t,to:$.value.init};$.value=null,Ue(l===s?t:{target:t,...u}),g("rangeEnd",{from:de(u.from),to:de(u.to)})}}function et(e){if($.value!==null){const t={...n.value,day:e};Object.assign($.value,{final:t,finalHash:oe(t)})}}return Object.assign(k,{setToday:ia,setView:La,offsetCalendar:Na,setCalendarTo:He,setEditingRange:za}),()=>{const e=[v("div",{class:"q-date__content col relative-position"},[v(we,{name:"q-transition--fade"},Xa[q.value])])],t=Ia(p.default);return t!==void 0&&e.push(v("div",{class:"q-date__actions"},t)),a.name!==void 0&&a.disable!==!0&&L(e,"push"),v("div",{class:A.value,...Qa.value},[Ga(),v("div",{ref:Q,class:"q-date__main col column",tabindex:-1},e)])}}}),Je=Xe({name:"QPopupProxy",props:{...it,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(a,{slots:p,emit:g,attrs:k}){const{proxy:_}=Ze(),{$q:j}=_,w=F(!1),C=F(null),m=d(()=>parseInt(a.breakpoint,10)),{canShow:I}=ut({showing:w});function B(){return j.screen.width<m.value||j.screen.height<m.value?"dialog":"menu"}const P=F(B()),y=d(()=>P.value==="menu"?{maxHeight:"99vh"}:{});se(()=>B(),V=>{w.value!==!0&&(P.value=V)});function L(V){w.value=!0,g("show",V)}function Q(V){w.value=!1,P.value=B(),g("hide",V)}return Object.assign(_,{show(V){I(V)===!0&&C.value.show(V)},hide(V){C.value.hide(V)},toggle(V){C.value.toggle(V)}}),gt(_,"currentComponent",()=>({type:P.value,ref:C.value})),()=>{const V={ref:C,...y.value,...k,onShow:L,onHide:Q};let S;return P.value==="dialog"?S=Ut:(S=Ta,Object.assign(V,{target:a.target,contextMenu:a.contextMenu,noParentEvent:!0,separateClosePopup:!0})),v(S,V,p.default)}}}),Kt={class:"row q-col-gutter-xs"},Gt={class:"col"},Xt={key:0,class:"col"},Zt={class:"row items-center justify-end"},el={key:1,class:"col"},al={class:"row items-center justify-end"},tl={key:2,class:"col"},ll={class:"row items-center justify-end"},Ke=ea({__name:"DateFilterFieldCustomInputSelector",props:{modelValue:{},label:{default:""},dense:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},autoOpenPopUps:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(a,{expose:p,emit:g}){const{t:k}=aa(),_=g,j=a,w=F(null),C=F(null),m=F(null),I=F(null),B=F(null),P=F(null),y=d({get(){return j.modelValue},set(n){_("update:modelValue",n)}}),L=d(()=>At.map(n=>({...n,label:k(n.labelKey)}))),Q=d({get(){return j.modelValue.currentType===0?L.value[0]:L.value.find(n=>n.value===j.modelValue.currentType)},set(n){y.value.setType(n?.value||0),_("update:modelValue",y.value)}}),V=d(()=>j.disable||y.value.state.denyChanges),S=()=>{y.value.recalcTimestamps(),I.value?.hide(),_("update:modelValue",y.value)},ee=()=>{y.value.recalcTimestamps(),B.value?.hide(),_("update:modelValue",y.value)},G=()=>{y.value.recalcTimestamps(),P.value?.hide(),_("update:modelValue",y.value)},O=()=>{y.value.state.denyChanges||Re().then(()=>{switch(y.value.currentType){case 7:m.value?.focus();break;case 8:w.value?.focus();break;case 9:C.value?.focus();break;case 10:w.value?.focus();break}}).catch(n=>{console.error(n)})};return p({focus:O}),ta(()=>{j.autofocus&&O()}),(n,q)=>(R(),W("div",Kt,[T("div",Gt,[f(Yt,{dense:"","options-dense":"",outlined:"",clearable:y.value.currentType!==0,modelValue:Q.value,"onUpdate:modelValue":q[0]||(q[0]=o=>Q.value=o),options:L.value,label:a.label,disable:a.disable},{prepend:b(()=>[pt(n.$slots,"prepend",{},()=>[f(K,{name:"calendar_month"})])]),_:3},8,["clearable","modelValue","options","label","disable"])]),y.value.hasFrom()?(R(),W("div",Xt,[f(i(ce),{dense:"",outlined:"",mask:"date",modelValue:y.value.formattedDate.from,"onUpdate:modelValue":q[2]||(q[2]=o=>y.value.formattedDate.from=o),label:i(k)("From date"),disable:V.value,ref_key:"qInputFromDateRef",ref:w,error:!y.value.formattedDate.from,"error-message":i(k)("Field is required")},{append:b(()=>[f(K,{name:"event",class:"cursor-pointer"},{default:b(()=>[f(i(Je),{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"qInputFromDatePopupProfyRef",ref:I},{default:b(()=>[f(We,{modelValue:y.value.formattedDate.from,"onUpdate:modelValue":[q[1]||(q[1]=o=>y.value.formattedDate.from=o),S],minimal:""},{default:b(()=>[T("div",Zt,[be(f(H,{label:i(k)("Close"),"no-caps":"",color:"primary",flat:""},null,8,["label"]),[[Pe]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue","label","disable","error","error-message"])])):ie("",!0),y.value.hasTo()?(R(),W("div",el,[f(i(ce),{dense:"",outlined:"",mask:"date",modelValue:y.value.formattedDate.to,"onUpdate:modelValue":q[4]||(q[4]=o=>y.value.formattedDate.to=o),label:i(k)("To date"),disable:V.value,ref_key:"qInputToDateRef",ref:C,error:!y.value.formattedDate.to,"error-message":i(k)("Field is required")},{append:b(()=>[f(K,{name:"event",class:"cursor-pointer"},{default:b(()=>[f(i(Je),{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"qInputToDatePopupProfyRef",ref:B},{default:b(()=>[f(We,{modelValue:y.value.formattedDate.to,"onUpdate:modelValue":[q[3]||(q[3]=o=>y.value.formattedDate.to=o),ee],minimal:""},{default:b(()=>[T("div",al,[be(f(H,{label:i(k)("Close"),"no-caps":"",color:"primary",flat:""},null,8,["label"]),[[Pe]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue","label","disable","error","error-message"])])):ie("",!0),y.value.hasFixed()?(R(),W("div",tl,[f(i(ce),{dense:"",outlined:"",mask:"date",modelValue:y.value.formattedDate.fixed,"onUpdate:modelValue":q[6]||(q[6]=o=>y.value.formattedDate.fixed=o),label:i(k)("Fixed date"),disable:V.value,ref_key:"qInputFixedDateRef",ref:m,error:!y.value.formattedDate.fixed,"error-message":i(k)("Field is required")},{append:b(()=>[f(K,{name:"event",class:"cursor-pointer"},{default:b(()=>[f(i(Je),{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"qInputFixedDatePopupProfyRef",ref:P},{default:b(()=>[f(We,{modelValue:y.value.formattedDate.fixed,"onUpdate:modelValue":[q[5]||(q[5]=o=>y.value.formattedDate.fixed=o),G],minimal:""},{default:b(()=>[T("div",ll,[be(f(H,{label:i(k)("Close"),"no-caps":"",color:"primary",flat:""},null,8,["label"]),[[Pe]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue","label","disable","error","error-message"])])):ie("",!0)]))}}),nl=Object.keys(Ma);function ol(a){return nl.reduce((p,g)=>{const k=a[g];return k!==void 0&&(p[g]=k),p},{})}const rl=Xe({name:"QBtnDropdown",props:{...Ma,...dt,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(a,{slots:p,emit:g}){const{proxy:k}=Ze(),_=F(a.modelValue),j=F(null),w=Ot(),C=d(()=>{const n={"aria-expanded":_.value===!0?"true":"false","aria-haspopup":"true","aria-controls":w.value,"aria-label":a.toggleAriaLabel||k.$q.lang.label[_.value===!0?"collapse":"expand"](a.label)};return(a.disable===!0||a.split===!1&&a.disableMainBtn===!0||a.disableDropdown===!0)&&(n["aria-disabled"]="true"),n}),m=d(()=>"q-btn-dropdown__arrow"+(_.value===!0&&a.noIconAnimation===!1?" rotate-180":"")+(a.split===!1?" q-btn-dropdown__arrow-container":"")),I=d(()=>st(a)),B=d(()=>ol(a));se(()=>a.modelValue,n=>{j.value?.[n?"show":"hide"]()}),se(()=>a.split,O);function P(n){_.value=!0,g("beforeShow",n)}function y(n){g("show",n),g("update:modelValue",!0)}function L(n){_.value=!1,g("beforeHide",n)}function Q(n){g("hide",n),g("update:modelValue",!1)}function V(n){g("click",n)}function S(n){yt(n),O(),g("click",n)}function ee(n){j.value?.toggle(n)}function G(n){j.value?.show(n)}function O(n){j.value?.hide(n)}return Object.assign(k,{show:G,hide:O,toggle:ee}),ta(()=>{a.modelValue===!0&&G()}),()=>{const n=[v(K,{class:m.value,name:a.dropdownIcon||k.$q.iconSet.arrow.dropdown})];return a.disableDropdown!==!0&&n.push(v(Ta,{ref:j,id:w.value,class:a.contentClass,style:a.contentStyle,cover:a.cover,fit:!0,persistent:a.persistent,noEscDismiss:a.noEscDismiss,noRouteDismiss:a.noRouteDismiss,autoClose:a.autoClose,noFocus:a.noFocus,noRefocus:a.noRefocus,anchor:a.menuAnchor,self:a.menuSelf,offset:a.menuOffset,separateClosePopup:!0,transitionShow:a.transitionShow,transitionHide:a.transitionHide,transitionDuration:a.transitionDuration,onBeforeShow:P,onShow:y,onBeforeHide:L,onHide:Q},p.default)),a.split===!1?v(H,{class:"q-btn-dropdown q-btn-dropdown--simple",...B.value,...C.value,disable:a.disable===!0||a.disableMainBtn===!0,noWrap:!0,round:!1,onClick:V},{default:()=>Ia(p.label,[]).concat(n),loading:p.loading}):v(Fa,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:a.rounded,square:a.square,...I.value,glossy:a.glossy,stretch:a.stretch},()=>[v(H,{class:"q-btn-dropdown--current",...B.value,disable:a.disable===!0||a.disableMainBtn===!0,noWrap:!0,round:!1,onClick:S},{default:p.label,loading:p.loading}),v(H,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...C.value,...I.value,disable:a.disable===!0||a.disableDropdown===!0,rounded:a.rounded,color:a.color,textColor:a.textColor,dense:a.dense,size:a.size,padding:a.padding,ripple:a.ripple},()=>n)])}}}),sl=ea({__name:"SortByFieldCustomButtonDropdown",props:{options:{},current:{},dense:{type:Boolean,default:!1}},emits:["change"],setup(a,{emit:p}){const g=bt(),{t:k}=aa(),_=p,j=a,w=d({get(){return j.current},set(){}}),C=d(()=>k("Current sort by",{label:w.value.label?k(w.value.label):null,order:w.value.order?k(w.value.order=="DESC"?"descending":"ascending"):null})),m=I=>{_("change",I)};return(I,B)=>(R(),le(rl,xt(i(g),{label:C.value,dense:a.dense}),{default:b(()=>[f(ja,null,{default:b(()=>[(R(!0),W(Te,null,Me(a.options,(P,y)=>be((R(),le(Ra,{dense:a.dense,key:y,onClick:L=>m(P),clickable:!(P.field==w.value.field&&P.order==w.value.order),disable:P.field==w.value.field&&P.order==w.value.order},{default:b(()=>[f(Fe,{avatar:""},{default:b(()=>[f(K,{name:P.order=="ASC"?"keyboard_double_arrow_up":"keyboard_double_arrow_down"},null,8,["name"])]),_:2},1024),f(Fe,null,{default:b(()=>[f(je,null,{default:b(()=>[te(E(i(k)("Current sort by",{label:i(k)(P.label),order:P.order=="DESC"?i(k)("descending"):i(k)("ascending")})),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["dense","onClick","clickable","disable"])),[[Pe]])),128))]),_:1})]),_:1},16,["label","dense"]))}}),il={class:"row q-col-gutter-sm"},ul={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},dl={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},cl={key:0,class:"q-ma-md flex flex-center"},fl={class:"lt-xl"},ml={class:"lt-xl"},vl=["onClick"],hl={class:"td-document-link gt-lg"},gl={class:"gt-lg"},pl={class:"gt-lg"},yl={class:"gt-lg"},bl={class:"gt-lg"},xl={key:3,class:"q-ma-md flex flex-center"},_l=ea({__name:"AdvancedSearchPage",setup(a){const{t:p}=aa(),g=Dt(),{screen:k}=ct(),_=[{field:"title",title:"Title",defaultClass:"gt-lg"},{field:"createdOnTimestamp",title:"Creation date",defaultClass:"gt-lg"},{field:"lastUpdateTimestamp",title:"Last update",defaultClass:"gt-lg"},{field:"attachmentCount",title:"Attachments",defaultClass:"gt-lg"},{field:"noteCount",title:"Notes",defaultClass:"gt-lg"}],j=[];_.forEach(A=>{j.push(new Ge(A.field,A.title,"ASC")),j.push(new Ge(A.field,A.title,"DESC"))});const w=F(!1),C=F(!1),m=_t({...Ca}),I=F(g.meta.conditionsFilterExpanded===!0),B=F(null),P=d(()=>g.name==="advancedSearch"),y=wt([]),L=d(()=>k.lt.xl),Q=d(()=>y.value.length>0),V=d(()=>!m.ajaxRunning&&m.ajaxErrors),S=d(()=>!m.ajaxRunning&&C.value&&!Q.value),ee=d(()=>g.params.fixedCreationDate!==void 0),G=d(()=>g.params.fixedLastUpdate!==void 0),O=d(()=>g.params.fixedUpdatedOn!==void 0),n=d(()=>o.sort.order==="ASC"?"keyboard_double_arrow_up":"keyboard_double_arrow_down"),q=d(()=>{let A=0;return o.filter.text.title&&A++,o.filter.text.description&&A++,o.filter.text.notesBody&&A++,o.filter.text.attachmentsFilename&&A++,o.filter.tags.length>0&&(A+=o.filter.tags.length),o.filter.dates?.createdAt.state.hasValue&&A++,o.filter.dates?.lastUpdateAt.state.hasValue&&A++,o.filter.dates?.updatedAt.state.hasValue&&A++,A}),o=Lt();P.value||(o.reset(),g.params.tag!==void 0&&typeof g.params.tag=="string"&&(o.filter.tags=[g.params.tag]),ee.value&&typeof g.params.fixedCreationDate=="string"?(o.filter.dates.createdAt.skipClearOnRecalc.fixed=!0,o.filter.dates.createdAt.formattedDate.fixed=g.params.fixedCreationDate?g.params.fixedCreationDate.replaceAll("-","/"):null,o.filter.dates.createdAt.setType(7)):G.value&&typeof g.params.fixedLastUpdate=="string"?(o.filter.dates.lastUpdateAt.skipClearOnRecalc.fixed=!0,o.filter.dates.lastUpdateAt.formattedDate.fixed=g.params.fixedLastUpdate?g.params.fixedLastUpdate.replaceAll("-","/"):null,o.filter.dates.lastUpdateAt.setType(7)):O.value&&typeof g.params.fixedUpdatedOn=="string"&&(o.filter.dates.updatedAt.skipClearOnRecalc.fixed=!0,o.filter.dates.updatedAt.formattedDate.fixed=g.params.fixedUpdatedOn?g.params.fixedUpdatedOn.replaceAll("-","/"):null,o.filter.dates.updatedAt.setType(7)));const ue=A=>{o.pager.currentPageIndex=A,X(!1)},me=(A,h)=>{m.ajaxRunning||(o.sort.toggle(A,h),o.sort.refreshLabel(j),X(!1))},N=()=>{w.value=!1},X=A=>{A&&(o.pager.currentPageIndex=1),Object.assign(m,Ca),m.ajaxRunning=!0,It.document.search(o.pager,o.filter,o.sort,!1,w.value).then(h=>{h.data.documents&&(y.value=[],h.data.pager&&(o.pager.currentPageIndex=h.data.pager.currentPageIndex,o.pager.resultsPage=h.data.pager.resultsPage,o.pager.totalResults=h.data.pager.totalResults,o.pager.totalPages=h.data.pager.totalPages,w.value=!0),y.value=h.data.documents.map(r=>new Pt(p,r.id,new ga(p,r.createdAtTimestamp),new ga(p,r.updatedAtTimestamp),r.title,r.description,r.tags,r.attachmentCount,r.noteCount,r.matchedFragments,"")),C.value=!0,B.value?.expand())}).catch(h=>{if(m.ajaxErrors=!0,h.isAPIError)switch(m.ajaxAPIErrorDetails=h.customAPIErrorDetails,h.response.status){case 400:m.ajaxErrorMessage="API Error: invalid/missing param";break;case 401:m.ajaxErrors=!1,Ne.emit("reAuthRequired",{emitter:"AdvancedSearchPage.onSubmitForm"});break;default:m.ajaxErrorMessage="API Error: fatal error";break}else m.ajaxErrorMessage=`Uncaught exception: ${h}`,console.error(h);C.value=!0}).finally(()=>{m.ajaxRunning=!1})},$=()=>{o.reset(),C.value=!1,y.value=[]};return ta(()=>{g.meta.autoLaunchSearch===!0&&Re().then(()=>{X(!0)}).catch(A=>{console.error(A)}),Ne.on("reAuthSucess",A=>{A.to?.includes("AdvancedSearchPage.onSubmitForm")&&X(!1)})}),Ct(()=>{Ne.off("reAuthSucess")}),(A,h)=>(R(),le(mt,null,{default:b(()=>[f(ka,{title:"Advanced search",icon:"filter_alt",loading:m.ajaxRunning,error:m.ajaxErrors,expanded:I.value},{"header-extra":b(()=>[be(f(pa,{square:"",size:"sm",class:"theme-q-chip-highlight"},{default:b(()=>[te(E(i(p)("Total search conditions count",{count:q.value})),1)]),_:1},512),[[xa,q.value>0]])]),content:b(()=>[T("form",{onSubmit:h[8]||(h[8]=pe(r=>X(!0),["prevent","stop"])),onReset:pe($,["prevent","stop"]),autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",class:"q-pa-md"},[T("div",il,[T("div",ul,[f(ce,{class:"q-mb-md",dense:"",outlined:"",modelValue:i(o).filter.text.title,"onUpdate:modelValue":[h[0]||(h[0]=r=>i(o).filter.text.title=r),N],modelModifiers:{trim:!0},type:"text",name:"title",clearable:"",label:i(p)("Document title"),disable:m.ajaxRunning,autofocus:!0,placeholder:i(p)("Type text condition")},{prepend:b(()=>[f(K,{name:"article"})]),_:1},8,["modelValue","label","disable","placeholder"]),f(ce,{class:"q-mb-md",dense:"",outlined:"",modelValue:i(o).filter.text.description,"onUpdate:modelValue":[h[1]||(h[1]=r=>i(o).filter.text.description=r),N],modelModifiers:{trim:!0},type:"text",name:"description",clearable:"",label:i(p)("Document description"),disable:m.ajaxRunning,placeholder:i(p)("Type text condition")},{prepend:b(()=>[f(K,{name:"article"})]),_:1},8,["modelValue","label","disable","placeholder"]),f(ce,{class:"q-mb-md",dense:"",outlined:"",modelValue:i(o).filter.text.notesBody,"onUpdate:modelValue":[h[2]||(h[2]=r=>i(o).filter.text.notesBody=r),N],modelModifiers:{trim:!0},type:"text",name:"notesBody",clearable:"",label:i(p)("Document notes"),disable:m.ajaxRunning,placeholder:i(p)("Type text condition")},{prepend:b(()=>[f(K,{name:"speaker_notes"})]),_:1},8,["modelValue","label","disable","placeholder"]),f(ce,{class:"q-mb-md",dense:"",outlined:"",modelValue:i(o).filter.text.attachmentsFilename,"onUpdate:modelValue":[h[3]||(h[3]=r=>i(o).filter.text.attachmentsFilename=r),N],modelModifiers:{trim:!0},type:"text",name:"notesBody",clearable:"",label:i(p)("Document attachment filenames"),disable:m.ajaxRunning,placeholder:i(p)("Type text condition")},{prepend:b(()=>[f(K,{name:"attach_file"})]),_:1},8,["modelValue","label","disable","placeholder"])]),T("div",dl,[f(Ke,{label:i(p)("Document creation date"),disable:m.ajaxRunning||ee.value,modelValue:i(o).filter.dates.createdAt,"onUpdate:modelValue":[h[4]||(h[4]=r=>i(o).filter.dates.createdAt=r),N],"auto-open-pop-ups":!ee.value,class:"q-mb-md"},null,8,["label","disable","modelValue","auto-open-pop-ups"]),f(Ke,{label:i(p)("Document last update"),disable:m.ajaxRunning||G.value,modelValue:i(o).filter.dates.lastUpdateAt,"onUpdate:modelValue":[h[5]||(h[5]=r=>i(o).filter.dates.lastUpdateAt=r),N],"auto-open-pop-ups":!G.value,class:"q-mb-md"},null,8,["label","disable","modelValue","auto-open-pop-ups"]),f(Ke,{label:i(p)("Document updated on"),disable:m.ajaxRunning||O.value,modelValue:i(o).filter.dates.updatedAt,"onUpdate:modelValue":[h[6]||(h[6]=r=>i(o).filter.dates.updatedAt=r),N],"auto-open-pop-ups":!O.value,class:"q-mb-md"},null,8,["label","disable","modelValue","auto-open-pop-ups"]),f(Et,{modelValue:i(o).filter.tags,"onUpdate:modelValue":[h[7]||(h[7]=r=>i(o).filter.tags=r),N],label:"Document tags",disabled:m.ajaxRunning,dense:"","start-mode-editable":!0,"deny-change-editable-mode":!0,clearable:"",placeholder:i(p)("Type text condition"),class:"q-mb-md q-pb-none"},null,8,["modelValue","disabled","placeholder"])])]),f(Fa,{spread:"",class:"q-mt-md"},{default:b(()=>[f(H,{color:"primary",size:"md",label:A.$t("Search"),"no-caps":"",icon:"search",disable:m.ajaxRunning,loading:m.ajaxRunning,type:"submit"},{loading:b(()=>[f(rt,{class:"on-left"}),te(" "+E(i(p)("Searching...")),1)]),_:1},8,["label","disable","loading"]),P.value?(R(),le(H,{key:0,class:"action-secondary",size:"md",label:A.$t("Reset filters"),"no-caps":"",icon:"undo",disable:m.ajaxRunning||q.value<1,type:"reset"},null,8,["label","disable"])):ie("",!0)]),_:1})],32),V.value?(R(),le(Ht,{key:0,text:m.ajaxErrorMessage||"Error loading data","api-error":m.ajaxAPIErrorDetails,class:"q-ma-md"},null,8,["text","api-error"])):S.value?(R(),le($t,{key:1,warning:"",text:"No results found with current filter",class:"q-ma-md"})):ie("",!0)]),_:1},8,["loading","error","expanded"]),be(f(ka,{title:"Results",icon:"folder_open",staticIcon:!0,loading:m.ajaxRunning,error:m.ajaxErrors,expanded:"",class:"q-mt-sm",ref_key:"resultsWidgetRef",ref:B},{"header-extra":b(()=>[f(pa,{square:"",size:"sm",color:"grey-7","text-color":"white"},{default:b(()=>[te(E(i(p)("Total search results count",{count:i(o).pager.totalResults})),1)]),_:1})]),content:b(()=>[i(o).pager.totalPages>1?(R(),W("div",cl,[f(ya,{modelValue:i(o).pager.currentPageIndex,"onUpdate:modelValue":[h[9]||(h[9]=r=>i(o).pager.currentPageIndex=r),ue],color:"dark",max:i(o).pager.totalPages,"max-pages":5,"boundary-numbers":"","direction-links":"","boundary-links":"",disable:m.ajaxRunning,class:"theme-default-q-pagination"},null,8,["modelValue","max","disable"])])):ie("",!0),L.value?(R(),le(ba,{key:1,class:"q-ma-md"},{default:b(()=>[T("thead",null,[T("tr",null,[T("th",fl,[f(sl,{square:"",dense:"","no-caps":"",options:j,current:i(o).sort,onChange:h[10]||(h[10]=r=>me(r.field,r.order)),flat:"",class:"action-primary fit full-height"},null,8,["current"])])])]),T("tbody",null,[(R(!0),W(Te,null,Me(y.value,r=>(R(),W("tr",{key:r.id},[T("td",ml,[f(ja,{dense:""},{default:b(()=>[f(Ra,{clickable:"",disable:m.ajaxRunning,to:{name:"document",params:{id:r.id}},class:"bg-transparent"},{default:b(()=>[f(Fe,null,{default:b(()=>[f(je,null,{default:b(()=>[te(E(i(p)("Title"))+": "+E(r.title),1)]),_:2},1024),f(je,{caption:""},{default:b(()=>[te(E(i(p)("Creation date"))+": "+E(r.createdAt.dateTime)+" ("+E(r.createdAt.timeAgo)+")",1)]),_:2},1024),r.updatedAt?.dateTime?(R(),le(je,{key:0,caption:""},{default:b(()=>[te(E(i(p)("Last update"))+": "+E(r.updatedAt.dateTime)+" ("+E(r.updatedAt.timeAgo)+")",1)]),_:2},1024)):ie("",!0)]),_:2},1024),f(Fe,{side:"",top:""},{default:b(()=>[f(Ae,{size:"md",square:"",class:"min-width-9em",count:r.attachmentCount,label:"Total attachments count","tool-tip":"View document attachments",disable:m.ajaxRunning,onClick:pe(Z=>i(Da)(r.id,r.title),["stop","prevent"])},null,8,["count","disable","onClick"]),f(Ae,{size:"md",square:"",class:"min-width-9em",count:r.noteCount,label:"Total notes","tool-tip":"View document notes",disable:m.ajaxRunning,onClick:pe(Z=>i(wa)(r.id,r.title),["stop","prevent"])},null,8,["count","disable","onClick"])]),_:2},1024)]),_:2},1032,["disable","to"])]),_:2},1024)])]))),128))])]),_:1})):(R(),le(ba,{key:2,class:"q-ma-md"},{default:b(()=>[T("thead",null,[T("tr",null,[h[12]||(h[12]=T("th",{class:"lt-xl"},null,-1)),(R(),W(Te,null,Me(_,(r,Z)=>T("th",{key:Z,class:kt(["text-left",r.defaultClass,{"cursor-not-allowed":m.ajaxRunning,"cursor-pointer":!m.ajaxRunning,"action-primary":i(o).sort.field===r.field}]),onClick:Ce=>me(r.field)},[f(K,{name:i(o).sort.field===r.field?n.value:"sort",size:"sm"},null,8,["name"]),te(" "+E(i(p)(r.title))+" ",1),f(ft,null,{default:b(()=>[te(E(i(p)("Toggle sort by this column",{field:i(p)(r.title)})),1)]),_:2},1024)],10,vl)),64))])]),T("tbody",null,[(R(!0),W(Te,null,Me(y.value,r=>(R(),W("tr",{key:r.id},[h[13]||(h[13]=T("td",{class:"lt-xl"},null,-1)),T("td",hl,[f(H,{align:"left","no-caps":"",flat:"",to:{name:"document",params:{id:r.id}},class:"fit text-decoration-hover",label:r.title},null,8,["to","label"])]),T("td",gl,E(r.createdAt.dateTime),1),T("td",pl,E(r.updatedAt?.dateTime),1),T("td",yl,[f(Ae,{size:"md",square:"",class:"min-width-8em",count:r.attachmentCount,label:"Total attachments count","tool-tip":"View document attachments",disable:m.ajaxRunning,onClick:pe(Z=>i(Da)(r.id,r.title),["stop","prevent"]),"q-chip-class":"'q-chip-8em'"},null,8,["count","disable","onClick"])]),T("td",bl,[f(Ae,{size:"md",square:"",class:"min-width-8em",count:r.noteCount,label:"Total notes","tool-tip":"View document notes",disable:m.ajaxRunning,onClick:pe(Z=>i(wa)(r.id,r.title),["stop","prevent"]),"q-chip-class":"'q-chip-8em'"},null,8,["count","disable","onClick"])])]))),128))])]),_:1})),i(o).pager.totalPages>1?(R(),W("div",xl,[f(ya,{modelValue:i(o).pager.currentPageIndex,"onUpdate:modelValue":[h[11]||(h[11]=r=>i(o).pager.currentPageIndex=r),ue],color:"dark",max:i(o).pager.totalPages,"max-pages":5,"boundary-numbers":"","direction-links":"","boundary-links":"",disable:m.ajaxRunning,class:"theme-default-q-pagination"},null,8,["modelValue","max","disable"])])):ie("",!0)]),_:1},8,["loading","error"]),[[xa,Q.value]])]),_:1}))}}),Kl=Qt(_l,[["__scopeId","data-v-55784f87"]]);export{Kl as default};
