import{d as n}from"./index-DWyQQ7Hn.js";import{u as r}from"./session-DarTIjXU.js";import{a as c}from"./api-BbjIOG7d.js";import"./localStorage-BRK9taKx.js";import"./index-B9ygI19o.js";const o=r(),u=n(async({router:a})=>{if(!o.hasAccessToken)try{const e=await c.auth.renewAccessToken();o.setAccessToken(e.data.accessToken)}catch(e){console.error(e)}a.beforeEach((e,i,s)=>{if(!e.matched.length){s({name:"notFound"});return}o.hasAccessToken?e.name==="login"||e.name==="register"?s({name:"index"}):s():e.name==="login"||e.name==="register"?s():s({name:"login"})})});export{u as default};
