import{d as u,b as z}from"./QItemLabel-BSQs6rL4.js";import{c as _,Q as U,d as N,e as W}from"./QBtn-BMgEeOPb.js";import{Q as G}from"./QInput-C8tsE61X.js";import{b as H,e as J}from"./QItem-BUqn2UGP.js";import{x as X,z as Z,j as n,l as ee,B as te,y as D,an as ae}from"./index-BwTDC915.js";const le=(e,l)=>e.replace(new RegExp(l,"gi"),r=>`<strong>${r}</strong>`);class he{id;createdAt;updatedAt;title;description;tags;attachmentCount;noteCount;matchedOnFragment;constructor(l,r,i,g,o,s,x,F,T,d,S){this.id=r,this.createdAt=i,this.updatedAt=g,this.title=o,this.description=s,this.tags=x,this.attachmentCount=F,this.noteCount=T,d.length>0&&S?this.matchedOnFragment=l("Fast search match fragment",{fragment:d[0].fragment?`${le(d[0].fragment,S)}`:"",matchedOn:l(d[0].matchedOn)}):this.matchedOnFragment=null}}const ie=[{labelKey:"Any date",value:0},{labelKey:"Today",value:1},{labelKey:"Yesterday",value:2},{labelKey:"Last 7 days",value:3},{labelKey:"Last 15 days",value:4},{labelKey:"Last 31 days",value:5},{labelKey:"Last 365 days",value:6},{labelKey:"Fixed date",value:7},{labelKey:"From date",value:8},{labelKey:"To date",value:9},{labelKey:"Between dates",value:10}],ne=ie[0].value,O="YYYY/MM/DD";class V{currentType;formattedDate;timestamps;state;skipClearOnRecalc;constructor(){this.currentType=ne,this.formattedDate={fixed:null,from:null,to:null},this.timestamps={from:null,to:null},this.state={hasFrom:!1,hasTo:!1,hasFixed:!1,hasValue:!1,denyChanges:!1},this.skipClearOnRecalc={from:!1,to:!1,fixed:!1}}getFormattedDate=(l=0)=>u.formatDate(u.addToDate(Date.now(),{days:l}),O);onRecalcDates=()=>{switch(this.skipClearOnRecalc.from||(this.formattedDate.from=null),this.skipClearOnRecalc.to||(this.formattedDate.to=null),this.skipClearOnRecalc.fixed||(this.formattedDate.fixed=null),this.skipClearOnRecalc.from=!1,this.skipClearOnRecalc.to=!1,this.skipClearOnRecalc.fixed=!1,this.timestamps.from=null,this.timestamps.to=null,this.currentType){case 0:this.formattedDate.from=null,this.formattedDate.to=null,this.formattedDate.fixed=null;break;case 1:this.formattedDate.fixed=this.getFormattedDate();break;case 2:this.formattedDate.fixed=this.getFormattedDate(-1);break;case 3:this.formattedDate.from=this.getFormattedDate(-7),this.formattedDate.to=this.getFormattedDate();break;case 4:this.formattedDate.from=this.getFormattedDate(-15),this.formattedDate.to=this.getFormattedDate();break;case 5:this.formattedDate.from=this.getFormattedDate(-31),this.formattedDate.to=this.getFormattedDate();break;case 6:this.formattedDate.from=this.getFormattedDate(-365),this.formattedDate.to=this.getFormattedDate();break}};onRecalcTimestamps=()=>{this.formattedDate.fixed?(this.timestamps.from=Number(u.formatDate(u.adjustDate(u.extractDate(this.formattedDate.fixed,O),{hour:0,minute:0,second:0,millisecond:0}),"x")),this.timestamps.to=Number(u.formatDate(u.adjustDate(u.extractDate(this.formattedDate.fixed,O),{hour:23,minute:59,second:59,millisecond:999}),"x"))):(this.formattedDate.from&&(this.timestamps.from=Number(u.formatDate(u.adjustDate(u.extractDate(this.formattedDate.from,"YYYY/MM/DD"),{hour:0,minute:0,second:0,millisecond:0}),"x"))),this.formattedDate.to&&(this.timestamps.to=Number(u.formatDate(u.adjustDate(u.extractDate(this.formattedDate.to,"YYYY/MM/DD"),{hour:23,minute:59,second:59,millisecond:999}),"x"))))};hasFrom(){return this.state.hasFrom}hasTo(){return this.state.hasTo}hasFixed(){return this.state.hasFixed}recalcDates(){this.onRecalcDates(),this.onRecalcTimestamps()}recalcTimestamps(){this.onRecalcTimestamps()}setType(l){this.currentType=l,this.state.hasFrom=[3,4,5,6,8,10].includes(l),this.state.hasTo=[3,4,5,6,9,10].includes(l),this.state.hasFixed=[1,2,7].includes(l),this.state.hasValue=this.state.hasFrom||this.state.hasTo||this.state.hasFixed,this.state.denyChanges=[1,2,3,4,5,6].includes(l),this.onRecalcDates(),this.onRecalcTimestamps()}}class se{title;description;notesBody;attachmentsFilename;constructor(l,r,i,g){this.title=l||null,this.description=r||null,this.notesBody=i||null,this.attachmentsFilename=g||null}}class oe{createdAt;lastUpdateAt;updatedAt;constructor(l,r,i){this.createdAt=l||new V,this.lastUpdateAt=r||new V,this.updatedAt=i||new V}}class fe{text;tags;dates;constructor(l,r,i){this.text=l||new se,this.tags=r||[],this.dates=i||new oe}}function C(e,l){return[!0,!1].includes(e)?e:l}const ge=X({name:"QPagination",props:{...H,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||_.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:l}){const{proxy:r}=Z(),{$q:i}=r,g=J(e,i),o=n(()=>parseInt(e.min,10)),s=n(()=>parseInt(e.max,10)),x=n(()=>parseInt(e.maxPages,10)),F=n(()=>f.value+" / "+s.value),T=n(()=>C(e.boundaryLinks,e.input)),d=n(()=>C(e.boundaryNumbers,!e.input)),S=n(()=>C(e.directionLinks,e.input)),B=n(()=>C(e.ellipses,!e.input)),p=ee(null),f=n({get:()=>e.modelValue,set:t=>{if(t=parseInt(t,10),e.disable||isNaN(t))return;const a=z(t,o.value,s.value);e.modelValue!==a&&l("update:modelValue",a)}});te(()=>`${o.value}|${s.value}`,()=>{f.value=e.modelValue});const K=n(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),P=n(()=>e.gutter in N?`${N[e.gutter]}px`:e.gutter||null),Y=n(()=>P.value!==null?`--q-pagination-gutter-parent:-${P.value};--q-pagination-gutter-child:${P.value}`:null),k=n(()=>{const t=[e.iconFirst||i.iconSet.pagination.first,e.iconPrev||i.iconSet.pagination.prev,e.iconNext||i.iconSet.pagination.next,e.iconLast||i.iconSet.pagination.last];return i.lang.rtl===!0?t.reverse():t}),L=n(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),w=n(()=>W(e,"flat")),j=n(()=>({[w.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),$=n(()=>{const t={[w.value]:!1};return e.activeDesign!==""&&(t[e.activeDesign]=!0),t}),E=n(()=>({...$.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),b=n(()=>{let t=Math.max(x.value,1+(B.value?2:0)+(d.value?2:0));const a={pgFrom:o.value,pgTo:s.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(s.value).length)}em`}};return x.value&&t<s.value-o.value+1&&(t=1+Math.floor(t/2)*2,a.pgFrom=Math.max(o.value,Math.min(s.value-t+1,e.modelValue-Math.floor(t/2))),a.pgTo=Math.min(s.value,a.pgFrom+t-1),d.value&&(a.boundaryStart=!0,a.pgFrom++),B.value&&a.pgFrom>o.value+(d.value?1:0)&&(a.ellipsesStart=!0,a.pgFrom++),d.value&&(a.boundaryEnd=!0,a.pgTo--),B.value&&a.pgTo<s.value-(d.value?1:0)&&(a.ellipsesEnd=!0,a.pgTo--)),a});function M(t){f.value=t}function I(t){f.value=f.value+t}function R(){f.value=p.value,p.value=null,i.platform.is.mobile===!0&&document.activeElement.blur()}function q(t){p.value=t}function Q(t){ae(t,13)===!0&&R()}function m(t,a,v){const h={"aria-label":a,"aria-current":"false",...j.value,...t};return v===!0&&Object.assign(h,{"aria-current":"true",...E.value}),a!==void 0&&(e.toFn!==void 0?h.to=e.toFn(a):h.onClick=()=>{M(a)}),D(U,h)}return Object.assign(r,{set:M,setByOffset:I}),()=>{const t=[],a=[];let v;if(T.value===!0&&(t.push(m({key:"bls",disable:e.disable||e.modelValue<=o.value,icon:k.value[0],"aria-label":i.lang.pagination.first},o.value)),a.unshift(m({key:"ble",disable:e.disable||e.modelValue>=s.value,icon:k.value[3],"aria-label":i.lang.pagination.last},s.value))),S.value===!0&&(t.push(m({key:"bdp",disable:e.disable||e.modelValue<=o.value,icon:k.value[1],"aria-label":i.lang.pagination.prev},e.modelValue-1)),a.unshift(m({key:"bdn",disable:e.disable||e.modelValue>=s.value,icon:k.value[2],"aria-label":i.lang.pagination.next},e.modelValue+1))),e.input!==!0){v=[];const{pgFrom:h,pgTo:A,marginalStyle:y}=b.value;if(b.value.boundaryStart===!0){const c=o.value===e.modelValue;t.push(m({key:"bns",style:y,disable:e.disable,label:o.value},o.value,c))}if(b.value.boundaryEnd===!0){const c=s.value===e.modelValue;a.unshift(m({key:"bne",style:y,disable:e.disable,label:s.value},s.value,c))}b.value.ellipsesStart===!0&&t.push(m({key:"bes",style:y,disable:e.disable,label:"…",ripple:!1},h-1)),b.value.ellipsesEnd===!0&&a.unshift(m({key:"bee",style:y,disable:e.disable,label:"…",ripple:!1},A+1));for(let c=h;c<=A;c++)v.push(m({key:`bpg${c}`,style:y,disable:e.disable,label:c},c,c===e.modelValue))}return D("div",{class:K.value,...L.value},[D("div",{class:"q-pagination__content row no-wrap items-center",style:Y.value},[...t,e.input===!0?D(G,{class:"inline",style:{width:`${F.value.length/1.5}em`},type:"number",dense:!0,value:p.value,disable:e.disable,dark:g.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:F.value,min:o.value,max:s.value,"onUpdate:modelValue":q,onKeyup:Q,onBlur:R}):D("div",{class:"q-pagination__middle row justify-center"},v),...a])])}}});export{ge as Q,se as S,oe as a,he as b,fe as c,ie as s};
